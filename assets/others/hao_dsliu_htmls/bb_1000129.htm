<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：【转】WinDbg配置和使用基础</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>【转】WinDbg配置和使用基础</h2>
<p align="right">发布时间：2012-8-22 11:48
<br>分类名称：Debug_Crack</p><br>
<p>&nbsp;<span style="font-family:宋体; font-size:12pt;"  >happyhippy作者：<a rel="nofollow" href="http://happyhippy.cnblogs.com/"  ><span style="color:blue; text-decoration:underline;"  >Silent Void </span></a><br>出处：<a rel="nofollow" href="http://happyhippy.cnblogs.com/"  ><span style="color:blue; text-decoration:underline;"  >http://happyhippy.cnblogs.com/</span></a><br>转载须保留此声明，并注明在文章起始位置给出原文链接。</span></p><p><span style="font-family:宋体; font-size:12pt;"  ><br></span></p><p><span style="font-family:宋体; font-size:12pt;"  >&nbsp;&nbsp;&nbsp; WinDbg是微软发布的一款相当优秀的源码级(source-level)调试工具，可以用于Kernel模式调试和用户模式调试，还可以调试Dump文件。 </span></p><p><span style="font-family:宋体; font-size:12pt;"  ><strong>1. WinDbg介绍：</strong><br>&nbsp;&nbsp;&nbsp; Debugging Tools and Symbols: Getting Started<br><a rel="nofollow" href="http://www.microsoft.com/whdc/devtools/debugging/debugstart.mspx"  ><span style="color:blue; text-decoration:underline;"  >http://www.microsoft.com/whdc/devtools/debugging/debugstart.mspx</span></a><br>&nbsp;&nbsp;&nbsp; A word for WinDbg<br><a rel="nofollow" href="http://mtaulty.com/communityserver/blogs/mike_taultys_blog/archive/2004/08/03/4656.aspx"  ><span style="color:blue; text-decoration:underline;"  >http://mtaulty.com/communityserver/blogs/mike_taultys_blog/archive/2004/08/03/4656.aspx</span></a>   </span></p><p><span style="font-family:宋体; font-size:12pt;"  ><br><strong>2. WinDbg下载：</strong><br>&nbsp; Install Debugging Tools for Windows 32-bit Version<br><a rel="nofollow" href="http://www.microsoft.com/whdc/devtools/debugging/installx86.mspx"  ><span style="color:blue; text-decoration:underline;"  >http://www.microsoft.com/whdc/devtools/debugging/installx86.mspx</span></a><br>&nbsp; Install Debugging Tools for Windows 64-bit Versions<br><a rel="nofollow" href="http://www.microsoft.com/whdc/devtools/debugging/install64bit.mspx"  ><span style="color:blue; text-decoration:underline;"  >http://www.microsoft.com/whdc/devtools/debugging/install64bit.mspx</span></a>   </span></p><p><span style="font-family:宋体;"  ><span style="font-size:12pt;"  ><br><strong>3. 配置WinDbg：</strong><br>&nbsp;&nbsp;&nbsp;&nbsp; 运行WinDbg-&gt;菜单-&gt;File-&gt;Symbol File Path-&gt;按照下面的方法设置_NT_SYMBOL_PATH变量：<br>在 弹出的框中输入"C:\MyCodesSymbols; SRV*C:\MyLocalSymbols*http://msdl.microsoft.com/download/symbols"(按照这样设 置，WinDbg将先从本地文件夹C:\MyCodesSymbols中查找Symbol，如果找不到，则自动从MS的Symbol Server上下载Symbols)。另一种做法是从这个Symbol下载地址中<a rel="nofollow" href="http://www.microsoft.com/whdc/devtools/debugging/symbolpkg.mspx"  ><span style="color:blue; text-decoration:underline;"  >http://www.microsoft.com/whdc/devtools/debugging/symbolpkg.mspx</span></a>，下载相应操作系统所需要的完整的Symbol安装包，并进行安装，例如我将其安装在D:\WINDOWS\Symbols，在该框中输入"D:\WINDOWS\Symbols"。（<span style="color:red;"  ><strong>这里要注意下载的Symbols的版本一定要正确</strong></span>，在我的Win2003+Sp1上，我曾经以为安装Win2003+Sp2的Symbols可能会牛×点，但结果证明我错了，用WinDbg打开可执行文件时，提示"PDB symbol for mscorwks.dll not loaded;</span><span style="font-size:10pt;"  >Defaulted to export symbols for ntdll.dll"的错误，我有重新装上Win2003+Sp1的Symbols, 现在一切运行正常^_^</span><span style="font-size:12pt;"  >） </span></span></p><p><span style="font-family:宋体; font-size:12pt;"  ><br><strong>4. 使用WinDbg：</strong><br>&nbsp;&nbsp;&nbsp;&nbsp; WinDbg提供了图形界面和命令行两种运行方式。这里介绍使用图形界面的WinDbg来调试应用程序：<br>&nbsp;&nbsp;&nbsp;&nbsp; File-&gt;OpenExecutable-&gt;可以选择一个可执行文件进行调试；<br>&nbsp;&nbsp;&nbsp;&nbsp; File-&gt;Attache to a Process-&gt;可以选择一个运行中的进程，并对其进行调试； </span></p><p><img title="WinDbg配置和使用基础 - Howie - Dspace"  src="pic/img3.ph.126.net_Kquh4ompVmjHJkzFvjV3wQ==_1287748018469033283.jpg"  alt=""  ><span style="font-family:宋体; font-size:12pt;"  ><br><img title="WinDbg配置和使用基础 - Howie - Dspace"  src="pic/img4.ph.126.net_n3q5kSXxve4jleCUn1ksWw==_1078893585749773794.jpg"  alt=""  ><br><img title="WinDbg配置和使用基础 - Howie - Dspace"  src="pic/img9.ph.126.net_DbJ7Ua123uBHtyJ-sO3H9w==_1028509564918520289.jpg"  alt=""  >   </span></p><p><span style="font-family:宋体; font-size:12pt;"  ><br>&nbsp;&nbsp;&nbsp;&nbsp; 至此，我们就可以在上图中用红色方框标记的文本框中输入各个功能指令了(有关指令的帮助文档，可以参 考：Help-&gt;Contents-&gt;Debugging Tools for Windows-&gt;Debuggers-&gt;Debugger Reference，该目录下列集了所有指令机器功能说明！)。&nbsp; </span></p><p><img title="WinDbg配置和使用基础 - Howie - Dspace"  src="pic/img1.ph.126.net_NDDHB6o_zKUAfPSXATBP3w==_1076078835982668271.jpg"  alt=""  ><span style="font-family:宋体; font-size:12pt;"  ><br><img title="WinDbg配置和使用基础 - Howie - Dspace"  src="pic/img3.ph.126.net_FyLygnq3LWHBG8pK83eqrw==_1097189459235818023.jpg"  alt=""  >   </span></p><p><br><span style="font-family:宋体; font-size:12pt;"  >   </span></p>
</body></html>