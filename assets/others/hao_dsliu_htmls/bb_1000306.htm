<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：[转] Mac原版与破解版的区别</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>[转] Mac原版与破解版的区别</h2>
<p align="right">发布时间：2010-3-26 23:54
<br>分类名称：Mac</p><br>
出自 远景论坛 http://bbs.pcbeta.com/thread-497364-1-1.html<br><br>普遍很多朋友（包括我自己）称自己安装的是原版苹果系统，或者称自己安装的是某版本的破解系统，如iPC、iDeneb、Kalyway、iATKOS、 Leo4all这些。依我看来，这些都是对自己系统的安装途径的简称。<br> <br> <br> <strong><font size="2"  >一、苹果光盘镜像的大体组成结构</font></strong><br> <br> 苹果光盘，无论是原版还是破解版，都是由一个预系统（在没有一种普遍说法之前，请容我称之为“预系统”）和一些安装包所组成。<br> <br> <strong><i>1.预系统</i></strong>，就是从光盘开始引导，进入到安装界面，并帮助用户完成系统安装过程的系统。只要你打开苹果 的安装光盘看看就知道了，其结构是不是与你的MAC系统很相近呢，呵呵。原则上它也是系统，因为它也有内核和驱动，还有必要的系统文件。<br> <br> 对于预系统，它并不需要与你当前要安装的版本相对应，例如，你要安装的是Leopard  10.5.6系统，那么预系统甚至可以是Tiger的预系统。由于其作用仅限于帮助用户安装所需系统，所以其功能和大小都不能与正常的MAC系统相提并 论。<br> <br> 有些朋友说“我连安装界面都没看到就卡住了”，原因是因为这个版本的预系统里的内核或驱动或其他原因，不能正常驱动上你机器的硬件所至。要解决这种情况， 必须要对这个镜像进行修改，在预系统里加入适合你机器的驱动，但这样对于还没安装上MAC的朋友来说无疑是巨大的困难，因为该操作不能在Windows系 统里执行。<br> <br> <strong><i>2.安装包</i></strong>（pkg格式），相当于一个个压缩文件，解压安装到你本地硬盘上。这其中包括用于系统部分 的、多国语言的、驱动程序或补丁的（破解版才有）等等。安装选项对话框里的每一条sub  choice，都至少对应一个pkg。这些pkg可以在光盘的/System/Library/Installation/Packages里找到（需要 显示隐藏文件）。<br> <br> <br> <strong><font size="2"  >二、我对原版和破解版的理解</font></strong><br> <br> <strong><i>1.所谓的“原版”</i></strong><br> 所谓的“原版”，最初时无非就是利用一张本身已经带有一些必要的破解驱动的引导盘启动机器，然后换上苹果官方D9的原版系统光盘来安装系统。它最大的好处 在于不像破解版那样需要选择烦琐的选项，这样反而会提高安装成功率，但只局限于酷睿架构的CPU才能安装，而且必须安装在GPT上（修改 OSInstall.mpkg可以安装到MBR上）。而现在也不一定要用光盘引导，例如变色龙也可以做到，虽然目前可能并不完善，也没有引导盘方式的直接 简便。<br> <br> 有部分刚刚玩黑苹果的朋友，往往会认为原版安装不需要破解，这就大错特错了。只要你的机器不是真正的苹果机，那么，在PC上安装的苹果系统，无论是所谓的 原版或者是破解版，都至少要安装一个名为fakesmc.kext（以前用AppleDecrypt.kext或dsmos.kext）的核心破解驱动， 否则到目前为止，非苹果机器是不能运行的（进不了系统界面）。到底要安装哪些必要的破解驱动呢？这要视硬件而定。<br> <br> “原版”，最重要的标志是：是否使用原版内核。能使用越少的破解驱动就能达到目的的，就越接近原版。<br> <br> <strong><i>2.所谓的“破解版”（确切说，应该称之为“整合版”）</i></strong><br> 所谓的“破解版”，其实也就是由官方的原版再打上系统升级包，加入第三方开发的驱动和少量常用软件，加入EFI或变色龙引导封装而成的。那些庞大的打印机 驱动都不会加入到其中（至少我还没见过），否则一张D5光盘将无法容纳。我们现在所接触到的破解版，为了减少体积，都对系统部分进行了大面积的精简，这就 有可能会造成对某些软件的支持性下降，例如我以前安装过iATKOS 2.0，死活安装不了After Effects  7.0。而且，破解版里的绝大部分（甚至可能是全部）可选安装的驱动都不是封装者自己编写的，他只是在网上找到，并整合到自己的安装盘里罢了，所以有一些 可能存在的隐性问题他未必会知道。这不能怪封装者的，因为他不可能测试所有软件及驱动的兼容性，更不可能找来所有硬件来测试。所以有些封装者会推出数个修 复版本，例如iPC。<br> <br> 为什么在安装时不选内核，默认安装的就是原版内核呢？原因很简单，因为封装者一般都会把精简过的原版系统部分做成一个独立的pkg，而在安装的过程中，由 OSInstall.mpkg里面的Distribution文件首先执行安装的就是这个pkg。等这个系统部分的pkg被安装完后，再执行用户勾选的其 他选项（包括使用了start_visible="false"代码的pkg）<br> <br> 如果你勾选的某个选项，以某破解驱动为例，与已安装上的系统部分的苹果原版驱动同名，则会先删除或备份原驱动，再安装这个破解驱动，这是由安装包里的 preinstall脚本决定。安装完后，还有一个postinstall脚本修复权限。<br> <br> 如果在安装选项时勾选了某部分的全部选项（以勾选了所有内核为例），情况会是怎样呢？这就要看OSInstall.mpkg里面的 Distribution文件里内核choice条目的先后顺序了，这个一般被安装上的是最下面的那个内核。例如有三个破解内核可选，第一个是9.2  speedstep，第二个是9.4 Modbin，第三个是9.4 XNU，那么最终被安装上的就是9.4  XNU这个内核。虽然安装过程中，前面两个内核和其对应的System.kext都会被安装过，但最终都会被最后那个内核和它的System.kext替 换掉，因为它们各自的pkg里面的内核都是同名的，都是mach_kernel，所以如上面一段提到的情况一样。<br> <br> “破解版”，最重要的标志是：它加入了可选的破解内核。为什么有很多用户使用破解内核会觉得某些软件（甚至整个系统）不稳定呢？其实也是很简单的原因，因 为绝大多数的Mac软件都是面向苹果的原版内核来开发的。再者，你敢打包票说你选的选项都是完全正确的吗？这样应该明白了吧。<br> <br> <br> <strong><font size="2"  >三、小结</font></strong><br> <br> 我认为，用户的硬件配置（最主要是CPU）适合原版安装的，尽可能先尝试原版，不行的话才考虑其他破解版本。而且，安装苹果，最重要的是硬件是否适合，技 术是次要的，两者的比例我个人认为是80:20，因为除非会编写驱动，否则就算再强的爱好者也会对无解的硬件无能为力。<br> <br> 最后想说说，因为我对AMD没了解（没实践过用AMD平台装Mac），而且我还没完全摸透究竟还有哪些地方可以精简，所以我还不敢发放我自己封装的系统。 也许以后我会放出封装整合驱动包的Mac系统制作教程，只要在此之前没人先放出，呵呵。其实我希望有人比我先放出这教程，好让我学习学习。
</body></html>