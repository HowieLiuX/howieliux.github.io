<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：八.操作系统类指令</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>八.操作系统类指令</h2>
<p align="right">发布时间：2012-5-20 16:58
<br>分类名称：80x86保护模式</p><br>
<p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >本文介绍操作系统类指令。其中的某些指令始于</span><span style="font-family:Times New Roman;"  >286</span><span style="font-family:宋体;"  >。通常只在操作系统代码中使用这些指令，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >而不在应用程序中使用这些指令。这是把它们称为操作系统类指令的原因。为了保证操作系统</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的安全，保护模式下的</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >支持四个特权级。相应地，这些操作系统类指令也可分为三种：实</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >模式和任何特权级下可执行的指令、实模式及特权级</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >下可执行的指令和仅在保护模式下执行的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >指令。<a rel="nofollow" href="file:///E:\Books\Crack\Kindle\80x86&#20445;&#25252;&#27169;&#24335;&#31995;&#21015;&#25945;&#31243;\My%20Webs\DOWNLOAD\asm8src.exe"  ><span style="color:blue;"  >这里下载本文源代码</span></a>。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>&lt;一&gt;实模式和任何特权级下可执行的指令 </strong></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>1.存储全局和中断描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >全局描述符表</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >和中断描述符表</span><span style="font-family:Times New Roman;"  >IDT</span><span style="font-family:宋体;"  >包含着系统的重要数据，对应的两个描述符表寄存</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >器</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >含有这两张表的定位信息。利用存储描述符表寄存器指令能把描述符表寄存器</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的内容保存到指定的存储单元。这样，访问这些存储单元就可获得描述符表的定位信息。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >与</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >IDT</span><span style="font-family:宋体;"  >被所有任务共享不同，</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >是每个任务私有的，所以存储局部描述符表寄存器</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >指令不在所列。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(1)存储全局描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >存储全局描述符表寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >SGDT<span style="color:black;"  >      <span style="color:#009999;"  >QWORD PTR<span style="color:black;"  > DST </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中操作数</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >48</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(6</span><span style="font-family:宋体;"  >字节</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的存储器操作数。该指令的功能是把全局描述符表寄存器</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >内容存储到存储单元</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >中的</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位界限存入</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >的低字，</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >中的</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址存入</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >高双字。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(2)存储中断描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >存储中断描述符表寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >SIDT<span style="color:black;"  >      <span style="color:#009999;"  >QWORD PTR<span style="color:black;"  > DST </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中操作数</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >48</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(6</span><span style="font-family:宋体;"  >字节</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的存储器操作数。该指令的功能是把中断描述符表寄存器</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >内容存储到存储单元</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >中的</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位界限存入</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >的低字，</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >中的</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址存入</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >高双字。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>2.存储机器状态字指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >存储机器状态字指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >SMSW<span style="color:black;"  >    DST </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中操作数</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >字</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的存储器操作数或寄存器。该指令的功能是把机器状态字的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >内容存储到</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >有此指令是为了包含</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >的指令集，以便与其兼容。由于</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >的控制寄存器</span><span style="font-family:Times New Roman;"  >CR0</span><span style="font-family:宋体;"  >的低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >等同于</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >的机器状态字，所以，在为</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >编程时，如果需要存储机器状态字，那么最好使用</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >存储</span><span style="font-family:Times New Roman;"  >CR0</span><span style="font-family:宋体;"  >寄存器的指令。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>&lt;二&gt;实模式及特权级0下可执行的指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >下列指令涉及设置关键的寄存器，所以只能在实模式和保护模式的特权级</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >下执行。为了从初始</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >时的实模式转入保护模式，必须做基本的准备工作。例如，设置妥全局描述符表寄存器</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >等。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >这是允许下列指令在实模式下工作的原因。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >在保护模式下，如果当前特权级</span><span style="font-family:Times New Roman;"  >(CPL)</span><span style="font-family:宋体;"  >不为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，执行这些指令将引起错误码为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的通用保护故障。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >在虚拟</span><span style="font-family:Times New Roman;"  >8086</span><span style="font-family:宋体;"  >方式下，因为其</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >为</span><span style="font-family:Times New Roman;"  >3</span><span style="font-family:宋体;"  >，所以执行这些指令也将会引起出错码为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的通用保护故障。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>1.清任务切换标志指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >每当任务切换时，控制寄存器</span><span style="font-family:Times New Roman;"  >CR0</span><span style="font-family:宋体;"  >中的任务切换标志</span><span style="font-family:Times New Roman;"  >TS</span><span style="font-family:宋体;"  >被自动置</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >。这样安排的原因已在前文中</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >说明过。清任务切换标志指令的功能是把</span><span style="font-family:Times New Roman;"  >TS</span><span style="font-family:宋体;"  >标志清</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，该指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >CLTS<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >该指令仅影响</span><span style="font-family:Times New Roman;"  >TS</span><span style="font-family:宋体;"  >标志，对其它标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>2.暂停指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >暂停指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >HLT<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >该指令使处理器暂停执行。暂停之后的系统，只有在接受一个已经启用的中断或让系统复位，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >才能重新启动。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>3.装载全局描述符表和中断描述符表寄存器的指令 </strong></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(1)装载全局描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载全局描述符表寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LGDT<span style="color:black;"  >      <span style="color:#009999;"  >QWORD PTR<span style="color:black;"  > SRC </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中操作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >48</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(6</span><span style="font-family:宋体;"  >字节</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的存储器操作数。该指令的功能是把存储器中的伪描述符装入到</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >全局描述符表寄存器</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >中。伪描述符</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >的结构如前文所述结构类型</span><span style="font-family:Times New Roman;"  >PDESC</span><span style="font-family:宋体;"  >所示，低字是以字</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >节为单位的段界限，高双字是段基地址。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(2)装载中断描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载中断描述符表寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LIDT<span style="color:black;"  >      <span style="color:#009999;"  >QWORD PTR<span style="color:black;"  > SRC </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中操作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >48</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(6</span><span style="font-family:宋体;"  >字节</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的存储器操作数。该指令的功能是把存储器中的伪描述符装入到</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >中断描述符表寄存器</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >中。伪描述符</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >的结构如前文所述结构类型</span><span style="font-family:Times New Roman;"  >PDESC</span><span style="font-family:宋体;"  >所示，低字是以字</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >节为单位的段界限，高双字是段基地址。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>4.装载机器状态字指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载机器状态字指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LMSW<span style="color:black;"  >    DST </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中操作数</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >字</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的存储器操作数或寄存器。该指令的功能是把</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >的内容装载到</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >机器状态字。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >将</span><span style="font-family:Times New Roman;"  >PE</span><span style="font-family:宋体;"  >位置为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，便进入保护模式。在</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >中，没有控制寄存器，为进入保护模式需要通过该指</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >令把</span><span style="font-family:Times New Roman;"  >MSW</span><span style="font-family:宋体;"  >中的</span><span style="font-family:Times New Roman;"  >PE</span><span style="font-family:宋体;"  >位置为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >。如果的确是这样，那么</span><span style="font-family:Times New Roman;"  >LMSW</span><span style="font-family:宋体;"  >指令后面必须紧跟一条转移指令。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >有此指令是为了包含</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >的指令集，以便与其兼容。由于</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >的控制寄存器</span><span style="font-family:Times New Roman;"  >CR0</span><span style="font-family:宋体;"  >的低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >等同于</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >的机器状态字，所以，在为</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >编程时，如果需要装载机器状态字，那么最好使用</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >控制寄存器传送指令。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>5.控制寄存器数据传送指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >控制寄存器数据传送指令的一般格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >MOV<span style="color:black;"  >      <span style="color:fuchsia;"  >DST<span style="color:red;"  >,<span style="color:fuchsia;"  >SRC<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >控制寄存器数据传送指令实现</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >的控制寄存器和</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器之间的数据传送。所以，操</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >使用的三个控制寄存器和任一</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器，但不能同时是控制寄</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >存器。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>6.调试寄存器数据传送指令指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >调试寄存器数据传送指令的一般格式与上面的控制寄存器数据传送指令的格式相同。功能是实</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >现</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >的调试寄存器和</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器之间的数据传送。操作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >使用</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >6</span><span style="font-family:宋体;"  >个调试寄存器和任一</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器，但不能同时为调试寄存器。该指令不影响标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >可使用的</span><span style="font-family:Times New Roman;"  >6</span><span style="font-family:宋体;"  >个调试寄存器记为：</span><span style="font-family:Times New Roman;"  >DR0</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >DR1</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >DRW</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >DR3</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >DR6</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >DR7</span><span style="font-family:宋体;"  >。其它说明与控制寄存器</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >数据传送指令相同。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>7.测试寄存器数据传送指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >测试寄存器数据传送指令的一般格式与上面的控制寄存器数据传送指令的格式相同。功能</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >是实现</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >的测试寄存器和</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器之间的数据传送。</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >使用的</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >个测试寄存器</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >TR6</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >TR7</span><span style="font-family:宋体;"  >。其它说明与控制寄存器数据传送指令相同。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>&lt;三&gt;只能在保护模式下执行的指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >下面介绍的指令只能在保护模式下执行，如果在实模式下执行这些指令，将引起非法操作码</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >故障</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >向量号为</span><span style="font-family:Times New Roman;"  >6)</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>1.装载和存储局部描述符表寄存器指令 </strong></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(1)装载局部描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载局部描述符表寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LLDT<span style="color:black;"  >    SRC </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。该指令的功能是把</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >中的内容作为</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >指示局部描述符表</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >的选择子装入到</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >寄存器。该指令不影响标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >操作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >给定的选择子应该指示</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >中的类型为</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >的描述符。但</span><span style="font-family:Times New Roman;"  >LRC</span><span style="font-family:宋体;"  >也可是一个空选择子，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >如果这样的话，表示暂时不使用局部描述符表</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >若</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >不为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，那么执行该指令将产生出错码为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的通用保护故障。若被装载的选择子不指</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >示</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >中的描述符，或者描述符类型不是</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >描述符，那么产生通用保护故障，错误码由该</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >选择子构成。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >象段寄存器那样，</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >也有两部分。在把指示</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >的选择子装入到</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >可见部分时，处理器</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >自动把选择子所索引的</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >描述符中的段基地址等信息保存到不可见的高速缓冲寄存器中。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(2)存储局部描述符表寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >存储局部描述符表寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >SLDT<span style="color:black;"  >    DST </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。该指令的功能是把局部描述符表寄存器</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >的内容存储到存储单元</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >中，也即把指向当前任务</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >的选择子存储到</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >中。该指令不</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >影响标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>2.装载和存储任务寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >任务寄存器</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >指示当前任务状态段</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >。随着任务的切换，</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >的内容也随之改变；如果任务嵌</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >套，那么</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >的原值作为链接字保存到新任务的</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >中。但有时候需要直接地装载或者保存</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >这就需要使用装载</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >指令和存储</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >指令。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(1)装载任务寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载任务寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LTR<span style="color:black;"  >     SRC </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。该指令的功能是将</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >作为指示</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >描述符</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的选择子装载到任务寄存器</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >。由前文可知，</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >分为两部分，即程序员可见部分和不可见的高</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >速缓冲寄存器部分。在把</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >的选择子装入到</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >可见部分时，处理器自动把选择子所索引的描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符中的段基地址等信息保存到不可见的高速缓冲寄存器中。所以，</span><span style="font-family:Times New Roman;"  >SRC</span><span style="font-family:宋体;"  >表示的选择子不能为空，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >必须索引位于</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >中的描述符，并且描述符类型必须是可用</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >，该加载的</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >被处理器自动标为</span><span style="font-family:Times New Roman;"  >"</span><span style="font-family:宋体;"  >忙</span><span style="font-family:Times New Roman;"  >"</span><span style="font-family:宋体;"  >。该指令对标志没有影响。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >若</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >不为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，那么执行该指令将产生错误码为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的通用保护故障。若被加载的选择子不指示</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >中</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的可用</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >描述符，那么产生通用保护故障，错误码由该选择子构成。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(2)存储任务寄存器指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >存储任务寄存器指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >STR<span style="color:black;"  >     DST </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。该指令的功能是把</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >所含的指示当前任</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >务</span><span style="font-family:Times New Roman;"  >TSS</span><span style="font-family:宋体;"  >描述符的选择子存储到</span><span style="font-family:Times New Roman;"  >DST</span><span style="font-family:宋体;"  >。该指令不影响标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>3.调整申请特权级指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >调整申请特权级指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >ARPL<span style="color:black;"  >    OPRD1<span style="color:red;"  >,<span style="color:fuchsia;"  >OPRD2<span style="color:black;"  >        </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元，操作数</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器。该指</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >令把操作数</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >视为两个选择子，用</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的申请特权级</span><span style="font-family:Times New Roman;"  >(RPL)</span><span style="font-family:宋体;"  >去检查</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >。选</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >择子</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >分别由它们的最低</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >个位规定。如果</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >小于</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >，那么</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >零标志</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被置</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，并把</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >值赋予</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL(</span><span style="font-family:宋体;"  >使两个操作数的最低</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >位相等</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >；否则，零</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >标志</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被清</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >都可为空选择子。该指令只影响</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>4.装载存取权指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载存取权指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LAR<span style="color:black;"  >      <span style="color:fuchsia;"  >OPRD1<span style="color:red;"  >,<span style="color:black;"  >OPRD2 </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位或</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器，操作数</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >元，也可以是</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。操作数</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的尺寸必须一致。该指令把</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >操作数</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >视为选择子</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >当为</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位时，仅使用低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，如果</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >所指示的描述符满足如下</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >条件，那么零标志</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被置</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，并把描述符内的属性字段装入</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >；否则，</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >清</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >保持</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >不变。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >(1)</span><span style="font-family:宋体;"  >在描述符表的范围内；</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >(2)</span><span style="font-family:宋体;"  >是存储段描述符或系统段描述符或任务门描述符或调用门描述符；</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >(3)CPL</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >都不大于</span><span style="font-family:Times New Roman;"  >DPL</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >在满足条件的情况下，装入到</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >的由</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >所指示的描述符中的属性字段是指描述符的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >高</span><span style="font-family:Times New Roman;"  >4</span><span style="font-family:宋体;"  >字节和</span><span style="font-family:Times New Roman;"  >00FXFF00H</span><span style="font-family:宋体;"  >相与的结果，其中</span><span style="font-family:Times New Roman;"  >X</span><span style="font-family:宋体;"  >表示第</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位到第</span><span style="font-family:Times New Roman;"  >19</span><span style="font-family:宋体;"  >位无定义。注意，如果指令使</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >用</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位操作数，那么只有高</span><span style="font-family:Times New Roman;"  >4</span><span style="font-family:宋体;"  >字节中的低字被装入到</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >，即装入到</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >的属性字段不</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >包括</span><span style="font-family:Times New Roman;"  >G</span><span style="font-family:宋体;"  >位和</span><span style="font-family:Times New Roman;"  >AVL</span><span style="font-family:宋体;"  >位等。该指令只影响</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>5.装载段界限指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >装载界限指令的格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >LSL<span style="color:black;"  >      <span style="color:fuchsia;"  >OPRD1<span style="color:red;"  >,<span style="color:black;"  >OPRD2 </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位或</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器，操作数</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >元，也可以是</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。操作数</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的尺寸必须一致。该指令把</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >操作数</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >视为选择子</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >当为</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位时，仅使用低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，如果</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >所指示的描述符满足如下</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >条件，那么零标志</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被置</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，并把描述符内的界限字段装入</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >；否则，</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >清</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >保持</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >不变。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >(1)</span><span style="font-family:宋体;"  >在描述符表的范围内；</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >(2)</span><span style="font-family:宋体;"  >是存储段描述符或系统段描述符，而非门描述符；</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >(3)CPL</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >都不大于</span><span style="font-family:Times New Roman;"  >DPL</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >在满足条件的情况下，装入到</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >的由</span><span style="font-family:Times New Roman;"  >OPRD2</span><span style="font-family:宋体;"  >所指示的描述符中的界限字段以字节位为单位。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >如果描述符中的界限字段以</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节为单位</span><span style="font-family:Times New Roman;"  >(G=1)</span><span style="font-family:宋体;"  >，那么装入到</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >时被左移</span><span style="font-family:Times New Roman;"  >12</span><span style="font-family:宋体;"  >位，空出的低位</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >全部填成</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >。注意，如果指令使用</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位操作数，那么只有段界限的低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位被装入到</span><span style="font-family:Times New Roman;"  >OPRD1</span><span style="font-family:宋体;"  >。该指</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >令只影响</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:13pt;"  ><strong>6.读写检验指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >利用读检验指令和写检验指令可分别检查在当前特权级上指定的段能否读或写，从而避免引起</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >不必要的异常。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(1)读检验指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >读检验指令的一般格式如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >VERR<span style="color:black;"  >    OPRD </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >OPRD</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元，也可以是</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >该指令的功能是把</span><span style="font-family:Times New Roman;"  >OPRD</span><span style="font-family:宋体;"  >的内容作为一个选择子</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >当</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位时仅使用低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，判断在当前特权级上</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >该选择子所指示的段是否可读。如果该选择子指示合法的一个存储段描述符，并且在当前特权</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >级上可读所描述的段，那么零标志</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被置为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，否则</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被清</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >。该指令只影响</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:fuchsia; font-family:Batang; font-size:12pt;"  ><strong>(2)写检验指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >&lt;DIV</span><span style="font-family:宋体;"  >写读检验指令的一般格式如下：</span><span style="font-family:Times New Roman;"  >&lt; DIV=""&gt; </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >VERW<span style="color:black;"  >    OPRD </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >其中，操作数</span><span style="font-family:Times New Roman;"  >OPRD</span><span style="font-family:宋体;"  >可以是</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位通用寄存器或存储单元，也可以是</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位通用寄存器或存储单元。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >该指令的功能是把</span><span style="font-family:Times New Roman;"  >OPRD</span><span style="font-family:宋体;"  >的内容作为一个选择子</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >当</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位时仅使用低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，判断在当前特权级上</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >该选择子所指示的段是否可写。如果该选择子指示合法的一个存储段描述符，并且在当前特权</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >级上可写所描述的段，那么零标志</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被置为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，否则</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >被清</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >。该指令只影响</span><span style="font-family:Times New Roman;"  >ZF</span><span style="font-family:宋体;"  >标志。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>&lt;四&gt;显示关键寄存器内容的实例(实例八) </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >为了更好地说明操作系统类指令的使用，下面给出一个显示</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >关键寄存器内容的实例。该实</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >例的逻辑功能是，显示系统中</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >等关键寄存器的当前内容。实例八的源程</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >序清单如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:#999999; font-size:9pt;"  ><em><span style="font-family:Times New Roman;"  >;</span><span style="font-family:宋体;"  >名称</span></em><span style="font-family:Times New Roman;"  ><em>:ASM8.ASM</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-size:9pt;"  ><em><span style="font-family:Times New Roman;"  >;</span><span style="font-family:宋体;"  >功能</span><span style="font-family:Times New Roman;"  >:</span><span style="font-family:宋体;"  >显示关键寄存器内容及说明操作系统类指令的使用</span></em><span style="color:black; font-family:Times New Roman;"  >    </span></span></p><p><span style="color:#999999; font-size:9pt;"  ><em><span style="font-family:Times New Roman;"  >;</span><span style="font-family:宋体;"  >编译</span></em><span style="font-family:Times New Roman;"  ><em>:TASM ASM8.ASM</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-size:9pt;"  ><em><span style="font-family:Times New Roman;"  >;</span><span style="font-family:宋体;"  >连接</span></em><span style="font-family:Times New Roman;"  ><em>:TLINK ASM8.OBJ</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:#009999; font-family:Times New Roman; font-size:9pt;"  >INCLUDE<span style="color:black;"  >         386SCD.INC </span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >GDTSeg          <span style="color:#009999;"  >SEGMENT<span style="color:black;"  >       <span style="color:#009999;"  >PARA<span style="color:black;"  >         <span style="color:#009999;"  >USE16<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>全局描述符表数据段</em></span><span style="color:#999999;"  ><em><span style="font-family:Times New Roman;"  >(16</span><span style="font-family:宋体;"  >位</span></em><span style="font-family:Times New Roman;"  ><em>)</em><span style="color:black;"  >      </span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >GDT             <span style="color:#009999;"  >LABEL<span style="color:black;"  >      <span style="color:#009999;"  >BYTE<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>空描述符</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >DUMMY           Desc    <span style="color:red;"  >&lt;&gt;<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>规范段描述符及选择子</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Normal          Desc    <span style="color:red;"  >&lt;<span style="color:#000099;"  >0ffffh<span style="color:red;"  >,,,<span style="color:black;"  >ATDW<span style="color:red;"  >,,&gt;<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Normal_Sel      <span style="color:red;"  >=<span style="color:black;"  >       Normal<span style="color:red;"  >-<span style="color:black;"  >GDT </span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >EFFGDT          <span style="color:#009999;"  >LABEL<span style="color:black;"  >      <span style="color:#009999;"  >BYTE<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>临时任务代码段描述符及选择子</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >TempCode        Desc    <span style="color:red;"  >&lt;<span style="color:#000099;"  >0ffffh<span style="color:red;"  >,<span style="color:black;"  >TempCodeSeg<span style="color:red;"  >,,<span style="color:black;"  >ATCE<span style="color:red;"  >,,&gt;<span style="color:black;"  >           </span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >TempCode_Sel    <span style="color:red;"  >=<span style="color:black;"  >       TempCode<span style="color:red;"  >-<span style="color:black;"  >GDT </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>缓冲区段描述符及选择子</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Buffer          Desc    <span style="color:red;"  >&lt;<span style="color:black;"  >BufferLen<span style="color:red;"  >-<span style="color:#000099;"  >1<span style="color:red;"  >,<span style="color:black;"  >BufferSeg<span style="color:red;"  >,,<span style="color:black;"  >ATDW<span style="color:red;"  >,,&gt;<span style="color:black;"  >             </span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Buffer_Sel      <span style="color:red;"  >=<span style="color:black;"  >       Buffer<span style="color:red;"  >-<span style="color:black;"  >GDT </span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>测试描述符</em></span><span style="color:#999999;"  ><em><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >及选择子</span></em><span style="color:black; font-family:Times New Roman;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1           Desc    <span style="color:red;"  >&lt;<span style="color:#000099;"  >1111h<span style="color:red;"  >,,,<span style="color:#000099;"  >92h<span style="color:red;"  >,<span style="color:#000099;"  >87h<span style="color:red;"  >,&gt;<span style="color:black;"  >           </span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1_Sel       <span style="color:red;"  >=<span style="color:black;"  >       Test1<span style="color:red;"  >-<span style="color:black;"  >GDT </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >TestR_Sel       <span style="color:red;"  >=<span style="color:black;"  >       Test1<span style="color:red;"  >-<span style="color:black;"  >GDT<span style="color:red;"  >+<span style="color:black;"  >RPL3 </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>测试描述符</em></span><span style="color:#999999;"  ><em><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >及选择子</span></em><span style="color:black; font-family:Times New Roman;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2           Desc    <span style="color:red;"  >&lt;<span style="color:#000099;"  >2222h<span style="color:red;"  >,,,<span style="color:#000099;"  >82h<span style="color:red;"  >,<span style="color:#000099;"  >17h<span style="color:red;"  >,&gt;<span style="color:black;"  >           </span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2_Sel       <span style="color:red;"  >=<span style="color:black;"  >       Test1<span style="color:red;"  >-<span style="color:black;"  >GDT </span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >GDNum           <span style="color:red;"  >=<span style="color:black;"  >       <span style="color:red;"  >($-<span style="color:black;"  >EFFGDT<span style="color:red;"  >)/(<span style="color:#009999;"  >SIZE<span style="color:black;"  > Desc<span style="color:red;"  >)<span style="color:black;"  >              <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>需特殊处理的描述符数</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >GDTLen          <span style="color:red;"  >=<span style="color:black;"  >       <span style="color:red;"  >$-<span style="color:black;"  >GDT                     <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>全局描述符表长度</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >GDTSeg          <span style="color:#009999;"  >ENDS<span style="color:black;"  >       <span style="color:#999999;"  ><em>;</em></span></span></span></span><span style="font-family:宋体;"  ><em>全局描述符表段定义结束</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >BufferSeg       <span style="color:#009999;"  >SEGMENT<span style="color:black;"  >       <span style="color:#009999;"  >PARA<span style="color:black;"  >         <span style="color:#009999;"  >USE16<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>缓冲区数据段</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >GDTR_V          PDesc   <span style="color:red;"  >&lt;&gt;<span style="color:black;"  >       <span style="color:#999999;"  ><em>;</em></span></span></span></span><span style="font-family:宋体;"  ><em>存放</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>GDTR</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >IDTR_V          PDesc   <span style="color:red;"  >&lt;&gt;<span style="color:black;"  >       <span style="color:#999999;"  ><em>;</em></span></span></span></span><span style="font-family:宋体;"  ><em>存放</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>IDTR</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >MSW_V           <span style="color:#009999;"  >DW<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存放机器状态字</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >LDTR_V          <span style="color:#009999;"  >DW<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存放</em></span><span style="color:#999999;"  ><em><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >选择子</span></em><span style="color:black; font-family:Times New Roman;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >TR_V            <span style="color:#009999;"  >DW<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存放</em></span><span style="color:#999999;"  ><em><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >选择子</span></em><span style="color:black; font-family:Times New Roman;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >CR0_V           <span style="color:#009999;"  >DD<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存放控制寄存器</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>CR0</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >CR3_V           <span style="color:#009999;"  >DD<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存放控制寄存器</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>CR3</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >DR7_V           <span style="color:#009999;"  >DD<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存放调试寄存器</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>DR7</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test_RPL        <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >Test1_SLD       <span style="color:#009999;"  >DD<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>演示用变量</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1_ARD       <span style="color:#009999;"  >DD<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1_SLW       <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1_ARW       <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1_RF        <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test1_WF        <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >Test2_SLD       <span style="color:#009999;"  >DD<span style="color:black;"  >       <span style="color:#000099;"  >0<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>演示用变量</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2_ARD       <span style="color:#009999;"  >DD<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2_SLW       <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2_ARW       <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2_RF        <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Test2_WF        <span style="color:#009999;"  >DW<span style="color:black;"  >      <span style="color:#000099;"  >0<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >BufferLen       <span style="color:red;"  >=<span style="color:black;"  >      <span style="color:red;"  >$<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >BufferSeg       <span style="color:#009999;"  >ENDS<span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >TempCodeSeg     <span style="color:#009999;"  >SEGMENT<span style="color:black;"  >       <span style="color:#009999;"  >PARA<span style="color:black;"  >         <span style="color:#009999;"  >USE16<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>临时代码段</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:#009999;"  >ASSUME<span style="color:black;"  >      <span style="color:fuchsia;"  >CS<span style="color:black;"  >:TempCodeSeg<span style="color:red;"  >,<span style="color:fuchsia;"  >DS<span style="color:black;"  >:BufferSeg </span></span></span></span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Virtual         <span style="color:#009999;"  >PROC<span style="color:black;"  >      <span style="color:#009999;"  >FAR<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >Buffer_Sel </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >       <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:fuchsia;"  >cr0<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存储</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>CR0</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     CR0_V<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >        </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >       <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:fuchsia;"  >cr3<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存储</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>CR3</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     CR3_V<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >        </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >       <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:fuchsia;"  >DR7<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>存储</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>DR7</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     DR7_V<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >        </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >str<span style="color:black;"  >     TR_V                      <span style="color:#999999;"  ><em>;</em></span></span></span></span><span style="font-family:宋体;"  ><em>存储</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>TR</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >sldt<span style="color:black;"  >    LDTR_V                    <span style="color:#999999;"  ><em>;</em></span></span></span></span><span style="font-family:宋体;"  ><em>存储</em></span><span style="color:#999999; font-family:Times New Roman;"  ><em>LDTR</em><span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test_RPL<span style="color:red;"  >,<span style="color:black;"  >Test1_Sel </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >TestR_Sel </span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >arpl<span style="color:black;"  >    Test_RPL<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >          <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>说明调整申请特权及指<span style="color:#999999;"  >令</span></em></span><span style="color:black; font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >bx<span style="color:red;"  >,<span style="color:#000099;"  >0<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >Test1_Sel </span></span></span></span></span></span></p><p><span style="color:#990000; font-family:Times New Roman; font-size:9pt;"  >Lab1:<span style="color:black;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >       <span style="color:fuchsia;"  >edx<span style="color:red;"  >,<span style="color:#000099;"  >0<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >cx<span style="color:red;"  >,<span style="color:#000099;"  >0<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >lsl<span style="color:black;"  >       <span style="color:fuchsia;"  >edx<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>说明装载段界限指令</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >lsl<span style="color:black;"  >      <span style="color:fuchsia;"  >cx<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_SLD<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:fuchsia;"  >edx<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_SLW<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:fuchsia;"  >cx<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >edx<span style="color:red;"  >,<span style="color:#000099;"  >0<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >cx<span style="color:red;"  >,<span style="color:#000099;"  >0<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >lar<span style="color:black;"  >       <span style="color:fuchsia;"  >edx<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>说明装载存取权指令</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >lar<span style="color:black;"  >      <span style="color:fuchsia;"  >cx<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_ARD<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:fuchsia;"  >edx<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_ARW<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:fuchsia;"  >cx<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_RF<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:#000099;"  >0<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >verr<span style="color:black;"  >       <span style="color:fuchsia;"  >ax<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>说明读检验指令</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >jnz<span style="color:black;"  >     Lab2 </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_RF<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:#000099;"  >1<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:#990000; font-family:Times New Roman; font-size:9pt;"  >Lab2:<span style="color:black;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_WF<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:#000099;"  >0<span style="color:black;"  >           </span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >verw<span style="color:black;"  >       <span style="color:fuchsia;"  >ax<span style="color:black;"  >         <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>说明写检验指令</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >jnz<span style="color:black;"  >     Lab3 </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >     Test1_WF<span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >],<span style="color:#000099;"  >1<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:#990000; font-family:Times New Roman; font-size:9pt;"  >Lab3:<span style="color:black;"  >     <span style="color:blue;"  >add<span style="color:black;"  >       <span style="color:fuchsia;"  >bx<span style="color:red;"  >,<span style="color:#000099;"  >16<span style="color:black;"  >          </span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >Test2_Sel </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >cmp<span style="color:black;"  >      <span style="color:fuchsia;"  >bx<span style="color:red;"  >,<span style="color:#000099;"  >32<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >jb<span style="color:black;"  >      Lab1 </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>准备返回实方式</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >Normal_Sel </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:fuchsia;"  >cr0<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >and<span style="color:black;"  >      <span style="color:fuchsia;"  >al<span style="color:red;"  >,<span style="color:#000099;"  >11111110b<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >       <span style="color:fuchsia;"  >cr0<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >           <span style="color:#999999;"  ><em>;</em></span></span></span></span></span></span></span></span><span style="font-family:宋体;"  ><em>返回实方式</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:#009900;"  >JUMP16<span style="color:black;"  >      <span style="color:red;"  >&lt;<span style="color:#009999;"  >SEG<span style="color:black;"  > Real<span style="color:red;"  >&gt;,&lt;<span style="color:#009999;"  >OFFSET<span style="color:black;"  > Real<span style="color:red;"  >&gt;<span style="color:black;"  >             </span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Virtual         <span style="color:#009999;"  >ENDP<span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >TempCodeSeg     <span style="color:#009999;"  >ENDS<span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >RCodeSeg        <span style="color:#009999;"  >SEGMENT<span style="color:black;"  >      <span style="color:#009999;"  >PARA<span style="color:black;"  >        <span style="color:#009999;"  >USE16<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:#009999;"  >ASSUME<span style="color:black;"  >      <span style="color:fuchsia;"  >CS<span style="color:black;"  >:RCodeSeg<span style="color:red;"  >,<span style="color:fuchsia;"  >DS<span style="color:black;"  >:BufferSeg </span></span></span></span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >VGDTR           PDesc   <span style="color:red;"  >&lt;<span style="color:black;"  >GDTLen<span style="color:red;"  >-<span style="color:#000099;"  >1<span style="color:red;"  >,&gt;<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Start           <span style="color:#009999;"  >PROC<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >BufferSeg </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >sgdt<span style="color:black;"  >    GDTR_V </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >sidt<span style="color:black;"  >    IDTR_V </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >smsw<span style="color:black;"  >    MSW_V </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>准备转入保护方式</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >push<span style="color:black;"  >      <span style="color:fuchsia;"  >cs<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >pop<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >cld<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >call<span style="color:black;"  >    InitGDT </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >bx<span style="color:red;"  >,<span style="color:#009999;"  >OFFSET<span style="color:black;"  > VGDTR </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >lgdt<span style="color:black;"  >      <span style="color:red;"  >[<span style="color:fuchsia;"  >bx<span style="color:red;"  >]<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >cli<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:fuchsia;"  >cr0<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >or<span style="color:black;"  >      <span style="color:fuchsia;"  >al<span style="color:red;"  >,<span style="color:#000099;"  >1<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>转入保护方式</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >cr0<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:#009900;"  >JUMP16<span style="color:black;"  >      <span style="color:red;"  >&lt;<span style="color:black;"  >TempCode_Sel<span style="color:red;"  >&gt;,&lt;<span style="color:#009999;"  >OFFSET<span style="color:black;"  > Virtual<span style="color:red;"  >&gt;<span style="color:black;"  >            </span></span></span></span></span></span></span></span></span></span></p><p><span style="color:#990000; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >Real:<span style="color:black;"  >      <span style="color:#999999;"  ><em>;</em></span></span></span><span style="font-family:宋体;"  ><em>回到实方式</em></span><span style="color:black; font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >sti<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:Times New Roman;"  >     <span style="color:#999999;"  ><em>;</em></span></span><span style="font-family:宋体;"  ><em>为了简单，略去了显示相关变量内容的部分代码</em></span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:#000099;"  >4c00h<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >int<span style="color:black;"  >      <span style="color:#000099;"  >21h<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >Start           <span style="color:#009999;"  >ENDP<span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >InitGDT         <span style="color:#009999;"  >PROC<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >push<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >GDTSeg </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >cx<span style="color:red;"  >,<span style="color:black;"  >GDNum </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >si<span style="color:red;"  >,<span style="color:#009999;"  >OFFSET<span style="color:black;"  > EFFGDT </span></span></span></span></span></span></span></p><p><span style="color:#990000; font-family:Times New Roman; font-size:9pt;"  >InitG:<span style="color:black;"  >     <span style="color:blue;"  >mov<span style="color:black;"  >       <span style="color:fuchsia;"  >ax<span style="color:red;"  >,[<span style="color:fuchsia;"  >si<span style="color:red;"  >].<span style="color:black;"  >BaseL </span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >movzx<span style="color:black;"  >      <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >shl<span style="color:black;"  >      <span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:#000099;"  >4<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >shld<span style="color:black;"  >      <span style="color:fuchsia;"  >edx<span style="color:red;"  >,<span style="color:fuchsia;"  >eax<span style="color:red;"  >,<span style="color:#000099;"  >16<span style="color:black;"  >           </span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:#009999;"  >WORD<span style="color:black;"  >        <span style="color:#009999;"  >PTR<span style="color:black;"  >          <span style="color:red;"  >[<span style="color:fuchsia;"  >si<span style="color:red;"  >].<span style="color:black;"  >BaseL<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >                </span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:#009999;"  >BYTE<span style="color:black;"  >        <span style="color:#009999;"  >PTR<span style="color:black;"  >          <span style="color:red;"  >[<span style="color:fuchsia;"  >si<span style="color:red;"  >].<span style="color:black;"  >BaseM<span style="color:red;"  >,<span style="color:fuchsia;"  >dl<span style="color:black;"  >                </span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:#009999;"  >BYTE<span style="color:black;"  >        <span style="color:#009999;"  >PTR<span style="color:black;"  >          <span style="color:red;"  >[<span style="color:fuchsia;"  >si<span style="color:red;"  >].<span style="color:black;"  >BaseH<span style="color:red;"  >,<span style="color:fuchsia;"  >dh<span style="color:black;"  >                </span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >add<span style="color:black;"  >      <span style="color:fuchsia;"  >si<span style="color:red;"  >,<span style="color:#009999;"  >SIZE<span style="color:black;"  > Desc </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >loop<span style="color:black;"  >    InitG </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >pop<span style="color:black;"  >      <span style="color:fuchsia;"  >ds<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >bx<span style="color:red;"  >,<span style="color:#000099;"  >16<span style="color:black;"  >         </span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:fuchsia;"  >ax<span style="color:red;"  >,<span style="color:black;"  >GDTSeg </span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mul<span style="color:black;"  >      <span style="color:fuchsia;"  >bx<span style="color:black;"  >       </span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:#009999;"  >WORD<span style="color:black;"  >        <span style="color:#009999;"  >PTR<span style="color:black;"  > VGDTR<span style="color:red;"  >.<span style="color:black;"  >Base<span style="color:red;"  >,<span style="color:fuchsia;"  >ax<span style="color:black;"  >              </span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >mov<span style="color:black;"  >      <span style="color:#009999;"  >WORD<span style="color:black;"  >        <span style="color:#009999;"  >PTR<span style="color:black;"  > VGDTR<span style="color:red;"  >.<span style="color:black;"  >Base<span style="color:red;"  >+<span style="color:#000099;"  >2<span style="color:red;"  >,<span style="color:fuchsia;"  >dx<span style="color:black;"  >                </span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:blue;"  >ret<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >InitGDT         <span style="color:#009999;"  >ENDP<span style="color:black;"  >     </span></span></span></p><p><span style="color:#999999; font-family:Times New Roman; font-size:9pt;"  ><em>;----------------------------------------------------------------------------</em><span style="color:black;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >RCodeSeg        <span style="color:#009999;"  >ENDS<span style="color:black;"  >     </span></span></span></p><p><span style="color:black; font-family:Times New Roman; font-size:9pt;"  >    <span style="color:#009999;"  >END<span style="color:black;"  >     Start </span></span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>&lt;五&gt;特权指令 </strong></span></p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >特权指令是指保护方式下只有当前特权级</span><span style="font-family:Times New Roman;"  >CPL=0</span><span style="font-family:宋体;"  >时，才可执行的指令。如果</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >不等于</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >而</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >执行它们，那么会引起通用保护异常。从上面介绍的操作系统类指令可归纳出如下表所示</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >特权指令。这些特权指令在构成完善的保护机制方面起了重要的作用。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p> &nbsp;</p><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #0099cc;"  border="0"  ><colgroup><col style="width:16px;"  /><col style="width:40px;"  /><col style="width:184px;"  /><col style="width:76px;"  /><col style="width:88px;"  /><tbody valign="top"  ><tr><td rowspan="7"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >特</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >权</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >指</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >令</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >指</span><span style="font-family:Times New Roman;"  >         </span><span style="font-family:宋体;"  >令</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >功</span><span style="font-family:Times New Roman;"  >         </span><span style="font-family:宋体;"  >能</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >指</span><span style="font-family:Times New Roman;"  >         </span><span style="font-family:宋体;"  >令</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >功</span><span style="font-family:Times New Roman;"  >         </span><span style="font-family:宋体;"  >能</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >CLTS</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >清除</span><span style="font-family:Times New Roman;"  >CR0</span><span style="font-family:宋体;"  >中的</span><span style="font-family:Times New Roman;"  >TS</span><span style="font-family:宋体;"  >位</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >LTR</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >装入</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >寄存器</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >HLT</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体; font-size:9pt;"  >停机</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >MOV CRn,reg</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体; font-size:9pt;"  >装入控制寄存器</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >LGDT</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >装入</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >寄存器</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >MOV reg,CRn</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体; font-size:9pt;"  >保存控制寄存器</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >LIDT</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >装入</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >寄存器</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >MOV DRn,reg</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体; font-size:9pt;"  >装入调试寄存器</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >LLDT</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >装入</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >寄存器</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >MOV reg,DRn</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体; font-size:9pt;"  >保存调试寄存器</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:Times New Roman; font-size:9pt;"  >LMSW</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-size:9pt;"  ><span style="font-family:宋体;"  >装入</span><span style="font-family:Times New Roman;"  >MSW</span><span style="font-family:宋体;"  >寄存器</span><span style="font-family:Times New Roman;"  >(CR0</span><span style="font-family:宋体;"  >的低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >)</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  >&nbsp;</td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  >&nbsp;</td></tr></table></div><p> &nbsp;</p><p><span style="color:black; font-size:9pt;"  ><span style="font-family:宋体;"  >从上表可见，装入</span><span style="font-family:Times New Roman;"  >GDTR</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >IDTR</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >LDTR</span><span style="font-family:宋体;"  >、</span><span style="font-family:Times New Roman;"  >TR</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >MSW</span><span style="font-family:宋体;"  >的指令都是特权指令，而存储上述寄存器的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >指令不是特权指令。这表示，保护模式下任何程序可获得这些寄存器的值，但只有特权</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >级</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的程序才能够改变这些寄存器的值。从上表还可以看出，设置和存储控制寄存器及调试</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >寄存器的指令都是特权指令。</span></span></p>
</body></html>