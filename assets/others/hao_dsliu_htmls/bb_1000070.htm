<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：[转] ASN.1编码学习笔记</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>[转] ASN.1编码学习笔记</h2>
<p align="right">发布时间：2013-11-26 11:51
<br>分类名称：PKI</p><br>
<p><strong>From：<a rel="nofollow" href="http://blog.csdn.net/huzhiren/article/details/5687665"   >http://blog.csdn.net/huzhiren/article/details/5687665</a>
</strong></p><p><br><span style="color:#333333; font-size:10pt;"   ><strong><span style="font-family:宋体;"   >１．什么是</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >（抽象语法记法一</span></strong><span style="font-family:Arial;"   ><strong>)?</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASN.1</span><span style="font-family:宋体;"   >是</span><span style="font-family:Arial;"   >ITU-T</span><span style="font-family:宋体;"   >的一个标准集，它用来编码及表示通用数据类型，这些数据类型有可打印串值，八位位组串值，位串值，整数值以及用可移值方式组合而成的其他类型序列值．简单的说，</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >指定了以何种方式对非平凡的数据类型进行编码，以便其他任何平台及第三方工具都能够解释其内容．比如，字母</span><span style="font-family:Arial;"   >a</span><span style="font-family:宋体;"   >在一些平台以</span><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >编码为十进制数值</span><span style="font-family:Arial;"   >97,</span><span style="font-family:宋体;"   >而在其他非</span><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >平台上，可能会是另外的编码．而</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >指定了一种编码方式，在任何平台上，字母</span><span style="font-family:Arial;"   >a</span><span style="font-family:宋体;"   >的编码都是统一的．</span><span style="font-family:Arial;"   ><br><br></span><strong><span style="font-family:宋体;"   >２．</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >语法．</span></strong><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASN.1</span><span style="font-family:宋体;"   >语法遵循传统的巴科斯范式</span><span style="font-family:Arial;"   >BNF</span><span style="font-family:宋体;"   >风格．最基本的表达式如：　</span><span style="font-family:Arial;"   >Name ::= type . </span><span style="font-family:宋体;"   >表示为定义某个名称为</span><span style="font-family:Arial;"   >Name</span><span style="font-family:宋体;"   >的元素，它的类型为</span><span style="font-family:Arial;"   >type</span><span style="font-family:宋体;"   >．　例如：　</span><span style="font-family:Arial;"   >MyName ::= IA5String . </span><span style="font-family:宋体;"   >表示为定义了一个名为</span><span style="font-family:Arial;"   >MyName</span><span style="font-family:宋体;"   >的元素或变量，其类型为</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >类型</span><span style="font-family:Arial;"   >IA5String (</span><span style="font-family:宋体;"   >类似于</span><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >字符串</span><span style="font-family:Arial;"   >).<br>&nbsp;<br></span><strong><span style="font-family:宋体;"   >２．１　</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >显式值</span><span style="font-family:Arial;"   >(Explict Value)</span><span style="font-family:宋体;"   >．</span></strong><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　有些时候，我们需要定义一种</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >类型，它的子集元素包含预定义值．　</span><span style="font-family:Arial;"   >Name ::= type (Explict Value) .&nbsp; </span><span style="font-family:宋体;"   >显式值</span><span style="font-family:Arial;"   >(Explict Value)</span><span style="font-family:宋体;"   >．必须是</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >类型允许选择的值，而且也必须是元素所允许的值．例：</span><span style="font-family:Arial;"   > MyName ::= IA5String (Tom) </span><span style="font-family:宋体;"   >表示</span><span style="font-family:Arial;"   >MyName</span><span style="font-family:宋体;"   >是字符串</span><span style="font-family:Arial;"   >Tom</span><span style="font-family:宋体;"   >的</span><span style="font-family:Arial;"   >IA5String</span><span style="font-family:宋体;"   >编码．　又例如：</span><span style="font-family:Arial;"   > MyName ::= IA5String(Tom|Joe) </span><span style="font-family:宋体;"   >表示字符串的值既可以是</span><span style="font-family:Arial;"   >Tom, </span><span style="font-family:宋体;"   >也可以是</span><span style="font-family:Arial;"   >Joe.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >这种语法的使用是为了扩展确定的解码器．例：</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PublicKey ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BOOLEAN(0),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Modulus&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTEGER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PubExponent INTEGER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PrivateKey ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BOOLEAN(1)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Modulus&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTEGER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PubExponent&nbsp; INTEGER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PrivateExponent INTEGER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;<br></span><strong><span style="font-family:宋体;"   >２．２　</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >容器</span></strong><span style="font-family:Arial;"   ><strong>(container)</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:宋体;"   >容器是值一个包含了其他相同或者不同类型元素的数据类型（例如序列值</span><span style="font-family:Arial;"   >SEQUENCE</span><span style="font-family:宋体;"   >或集合值</span><span style="font-family:Arial;"   >SET</span><span style="font-family:宋体;"   >类型）．目的是为了组合一些复杂的数据类型集．</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >规范定义了</span><span style="font-family:Arial;"   >4</span><span style="font-family:宋体;"   >种容器类型：序列，单一序列</span><span style="font-family:Arial;"   >(SEQUENCE OF)</span><span style="font-family:宋体;"   >，集合和单一集合</span><span style="font-family:Arial;"   >(SET OF)</span><span style="font-family:宋体;"   >．虽然它们意义不同，但是语法是一样的．</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name ::= Container {Name Type [ Name Type...]}&nbsp;&nbsp; </span><span style="font-family:宋体;"   >方括号中的内容和容器的元素个数都是可选项．还可以进行嵌套定义．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >例：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　</span><span style="font-family:Arial;"   >UserRecord ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name&nbsp;&nbsp; SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; First IA5String,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Last&nbsp; IA5String<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DoB&nbsp;&nbsp;&nbsp;&nbsp; UTCTIME<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br></span><span style="font-family:宋体;"   >将其粗略的翻译成Ｃ语言中的结构如下：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　</span><span style="font-family:Arial;"   >struct UserRecord {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct Name {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *First,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *Last<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; time_t DoB;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br></span><span style="font-family:宋体;"   >将其粗略的翻译成</span><span style="font-family:Arial;"   >Object Pascal</span><span style="font-family:宋体;"   >语言中的记录如下（</span><span style="font-family:Arial;"   >Object Pascal</span><span style="font-family:宋体;"   >不支持嵌套记录</span><span style="font-family:Arial;"   >):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Type<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name = record<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; First : String;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Last&nbsp; : String;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UserRecord = record<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aName : Name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DoB&nbsp;&nbsp;&nbsp; : DateTime;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<br>&nbsp;<br></span><strong><span style="font-family:宋体;"   >２．３</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >修改器</span></strong><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASN.1</span><span style="font-family:宋体;"   >定义了各种修改器，如可选</span><span style="font-family:Arial;"   >(OPTIONAL),</span><span style="font-family:宋体;"   >默认</span><span style="font-family:Arial;"   >(DEFAULT),</span><span style="font-family:宋体;"   >和选择</span><span style="font-family:Arial;"   >(CHOICE). </span><span style="font-family:宋体;"   >他们可以改变表达式的声明．典型地用于定义一种要求编码灵活，而定义又不繁琐的类型．</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >＜１＞．可选</span><span style="font-family:Arial;"   >(OPTIONAL)</span><span style="font-family:宋体;"   >。顾名思义，其表示改变一个元素以便在编码时它的类型是可选择的．即编码器可以忽略这个元素，解码器不能假设它将出现．但当邻接的两个元素具有相同的类型时，会给解码器带来一些问题．</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >定义：</span><span style="font-family:Arial;"   > Name ::= Type OPTIONAL<br></span><span style="font-family:宋体;"   >　　例如：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　　　　</span><span style="font-family:Arial;"   > Float ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Exponent&nbsp;&nbsp;&nbsp;&nbsp; INTEGER OPTIONAL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mantissa&nbsp;&nbsp;&nbsp;&nbsp; INTEGER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sign&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BOOLEAN<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >当解码器读取这个结构时，在它看来第一个整数</span><span style="font-family:Arial;"   >(INTEGER)</span><span style="font-family:宋体;"   >可能是</span><span style="font-family:Arial;"   >Exponent,</span><span style="font-family:宋体;"   >也有可能认为是</span><span style="font-family:Arial;"   >Mantissa</span><span style="font-family:宋体;"   >．　一般建议不使用这种方式定义结构．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　＜２＞．默认</span><span style="font-family:Arial;"   >(DEFAULT)</span><span style="font-family:宋体;"   >．默认修改器允许容器包含默认值．如果待编码的数据值等同于它的默认值，那么它将在发送的数据流中被忽略．例如：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　　　　</span><span style="font-family:Arial;"   > Command ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Token&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA5String(NOP) DEFAULT,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Parameter&nbsp;&nbsp; INTEGER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >如果编码器把</span><span style="font-family:Arial;"   >Token</span><span style="font-family:宋体;"   >看成是代表字符串</span><span style="font-family:Arial;"   >NOP,</span><span style="font-family:宋体;"   >那么序列将按照定义的那样编码为：</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Command ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Parameter&nbsp;&nbsp;&nbsp; INTEGER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >＜３＞．选择</span><span style="font-family:Arial;"   >(CHOICE). </span><span style="font-family:宋体;"   >选择修改器允许一个元素在给定的实例中可以有多个可能值．实质上说，解码器将尝试所有期望的解码算法，直到有一个类型符合为止．当一个复杂的容器中包含其他容器时，时候选择器就十分有用了．例如：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　　　　</span><span style="font-family:Arial;"   > UserKey ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA5String,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StartDate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UTCTIME,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Expire&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UTCTIME,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeyData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHOICE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ECCKey&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ECCKeyType,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RSAKey&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RSAKeyType<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >上例简单的允许ＥＣＣ也允许ＲＳＡ密钥的公钥证书．</span><span style="font-family:Arial;"   ><br></span><strong><span style="font-family:宋体;"   >３．</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >数据类型</span></strong><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASN.1</span><span style="font-family:宋体;"   >针对广泛的应用定义了多种数据类型，我们这里只讨论跟密码学应用相关的数据类型．我们将讨论如下数据类型：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　　布尔型</span><span style="font-family:Arial;"   > (Boolean);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >八位位组串</span><span style="font-family:Arial;"   > (OCTET String);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >位串</span><span style="font-family:Arial;"   > (BIT String);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA5String;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >可打印字符串</span><span style="font-family:Arial;"   > (PrintableString);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >整数</span><span style="font-family:Arial;"   > (INTEGER);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >对象标识符</span><span style="font-family:Arial;"   > (OBJECT Identifier, OID);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >世界协调时</span><span style="font-family:Arial;"   > (UTCTIME);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >空</span><span style="font-family:Arial;"   > (NULL);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >序列，单一序列</span><span style="font-family:Arial;"   >;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >集合</span><span style="font-family:Arial;"   >;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >单一集合</span><span style="font-family:Arial;"   >;<br>&nbsp;<br></span><span style="font-family:宋体;"   >　　任何</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >编码都是以两个字节开始（或者八位位组，含有８个二进制位），不管什么类型，它们都是通用的．第一个字节是类型标识符，也包含一些修正位；第二各字节是长度．</span><span style="font-family:Arial;"   ><br>&nbsp;<br><strong>3.1 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>头字节</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >头字节</span><span style="font-family:Arial;"   >(hearder byte)</span><span style="font-family:宋体;"   >位于</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >编码的开始，由</span><span style="font-family:Arial;"   >3</span><span style="font-family:宋体;"   >部分组成。如下图：</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp; <img title="[转] ASN.1编码学习笔记 - Howie - Dspace"   src="pic/img2.ph.126.net_yL8bDJTJbFt_zz5xnp9QYg==_3151112364376098812.jpg"   alt=""   /><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong> &lt;1&gt;. </strong></span><span style="font-family:宋体;"   ><strong>类别位。</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span style="font-family:宋体;"   >类别位</span><span style="font-family:Arial;"   >(classification bits)</span><span style="font-family:宋体;"   >由两位表示，用来描述数据将要解释的上下文。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp; </strong></span></span>
</p><div style="text-align: center;"   ><table style="border-collapse:collapse;"   border="0"   ><colgroup><col style="width:43px;"   /><col style="width:43px;"   /><col style="width:259px;"   /><tbody valign="top"   ><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:宋体;"   >位</span><span style="font-family:Arial;"   >8</span></span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:宋体;"   >位</span><span style="font-family:Arial;"   >7</span></span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >类别</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:宋体;"   >通用</span><span style="font-family:Arial;"   >(Universal)</span></span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:宋体;"   >应用</span><span style="font-family:Arial;"   >(Application)</span></span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:宋体;"   >上下文特定</span><span style="font-family:Arial;"   >(Context Specific)</span></span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:宋体;"   >专用</span><span style="font-family:Arial;"   >(Private)</span></span></p></td></tr></table></div><p style="background: white; margin-left: 15pt;"   ><span style="color:#333333; font-size:10pt;"   ><span style="font-family:Arial;"   >&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >所有的类型中，通用类别最常用。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;2&gt;. </strong></span><span style="font-family:宋体;"   ><strong>结构化位。</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >结构化位</span><span style="font-family:Arial;"   >(constructed bit)</span><span style="font-family:宋体;"   >表示一个给定的编码是否是相同类型的多种编码的结构化。结构化元素是容器类型必需的，因为在逻辑上，它们只是其他元素的集合。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:宋体;"   >结构化元素有自己的头字节和长度字节，之后是元素各个要素组件的单独编码。也就是说，这些要素组件是独立地可解码</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >数据类型。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >严格的说，容器类是唯一允许使用结构化位的数据类型。这是因为对于其他数据类型，给定内容，只允许一种编码。所以其他所有数据类型的结构化位都为</span><span style="font-family:Arial;"   >0</span><span style="font-family:宋体;"   >。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong> &lt;3&gt;. </strong></span><span style="font-family:宋体;"   ><strong>原始类型。</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASN.1</span><span style="font-family:宋体;"   >头字节的低</span><span style="font-family:Arial;"   >5</span><span style="font-family:宋体;"   >位定义了</span><span style="font-family:Arial;"   >32</span><span style="font-family:宋体;"   >种</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >的原始类型</span><span style="font-family:Arial;"   >(primitive type)<br><strong>&nbsp;</strong>
</span></span></p><div style="text-align: center;"   ><table style="border-collapse:collapse;"   border="0"   ><colgroup><col style="width:46px;"   /><col style="width:141px;"   /><col style="width:330px;"   /><tbody valign="top"   ><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:宋体; font-size:9pt;"   ><strong>代码</strong></span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><strong><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >类型</span></strong></span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   ><strong>作用</strong></span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >布尔型</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >储存布尔值</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >2</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >整数</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >储存大整数</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >3</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >位串</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >存储位数组</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >4</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >八位位串</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >存储字节数组</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >5</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >空</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >预留位（例如在选择修改器中）</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >6</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >对象标识符</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >标识算法及协议</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >16</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >序列和单一序列</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >未分类元素的容器</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >17</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >集合和单一集合</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >已分类元素的容器</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >19</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >可打印字符串</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >编码（忽略一些不可打印字符）</span></span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >22</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >IA5String</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-size:9pt;"   ><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >编码</span></span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >23</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >世界协调时</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >以统一格式表示的时间</span></p></td></tr></table></div><p style="background: white; margin-left: 15pt;"   ><span style="color:#333333; font-size:10pt;"   ><span style="font-family:Arial;"   >&nbsp;<br><strong>3.2 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>长度编码</strong></span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >根据编码的实际长度，</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >定义了两种长度编码</span><span style="font-family:Arial;"   >(length encoding)</span><span style="font-family:宋体;"   >方法，长编码和短编码。</span><span style="font-family:Arial;"   ><br><img title="[转] ASN.1编码学习笔记 - Howie - Dspace"   src="pic/img2.ph.126.net_7urVwN1Irr0FzLdB_iPkuw==_287948901275399972.jpg"   alt=""   /><br></span><span style="font-family:宋体;"   >编码字节的最高位代表的是短编码还是长编码；而低</span><span style="font-family:Arial;"   >7</span><span style="font-family:宋体;"   >位则形成一个长度立即数。</span><span style="font-family:Arial;"   ><br><strong>&lt;1&gt;. </strong></span><span style="font-family:宋体;"   ><strong>短编码。</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >在短编码中，负载的长度必须小于</span><span style="font-family:Arial;"   >128</span><span style="font-family:宋体;"   >字节。长度立即数用来表示负载的长度。例如，对于一个长度为</span><span style="font-family:Arial;"   >65 (0x41)</span><span style="font-family:宋体;"   >的负载进行编码，其长度编码字节只需简单的设置为</span><span style="font-family:Arial;"   >0x41</span><span style="font-family:宋体;"   >即可。因为其最高位是</span><span style="font-family:Arial;"   >0,</span><span style="font-family:宋体;"   >则编码器可以判断出这是短编码，而且长度是</span><span style="font-family:Arial;"   >65</span><span style="font-family:宋体;"   >。</span><span style="font-family:Arial;"   ><br><strong>&lt;2&gt;. </strong></span><span style="font-family:宋体;"   ><strong>长编码。</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >在长编码中，定义了附加的抽象数据来对长度进行编码，它仅适用于所有长度为</span><span style="font-family:Arial;"   >128</span><span style="font-family:宋体;"   >字节或以上的负载。在这种模式下，长度立即数存储的是为了表示负载长度所需的字节数。这个长度必须以</span><span style="font-family:Arial;"   >big-endian</span><span style="font-family:宋体;"   >格式进行编码。（其实</span><span style="font-family:Arial;"   >big endian</span><span style="font-family:宋体;"   >是指低地址存放最高有效字节（</span><span style="font-family:Arial;"   >MSB</span><span style="font-family:宋体;"   >），而</span><span style="font-family:Arial;"   >little endian</span><span style="font-family:宋体;"   >则是低地址存放最低有效字节（</span><span style="font-family:Arial;"   >LSB</span><span style="font-family:宋体;"   >）。）。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >例如，为一个长度为</span><span style="font-family:Arial;"   >47310 (0xB8CE)</span><span style="font-family:宋体;"   >的负载进行编码，因为它的长度大于</span><span style="font-family:Arial;"   >127, </span><span style="font-family:宋体;"   >所以要采用长编码方式。实际的长度需要两个字节来表示。则，长度编码字节为</span><span style="font-family:Arial;"   >0x82; </span><span style="font-family:宋体;"   >然后用</span><span style="font-family:Arial;"   >big-endian</span><span style="font-family:宋体;"   >格式存储的长度值为</span><span style="font-family:Arial;"   >0xB8 0xCE</span><span style="font-family:宋体;"   >。则全部长度编码为</span><span style="font-family:Arial;"   > 0x82 B8 CE</span><span style="font-family:宋体;"   >。</span><span style="font-family:Arial;"   ><br>&nbsp;<br><strong>3.3 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>布尔类型</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >布尔编码的负载或者是全</span><span style="font-family:Arial;"   >0</span><span style="font-family:宋体;"   >或者是全</span><span style="font-family:Arial;"   >1</span><span style="font-family:宋体;"   >的八位位组。头字节以</span><span style="font-family:Arial;"   >0x01</span><span style="font-family:宋体;"   >开始，长度编码字节为</span><span style="font-family:Arial;"   >0x01,</span><span style="font-family:宋体;"   >负载内容取决于布尔值的取值。</span><span style="font-family:Arial;"   >
</span></span></p><div style="text-align: center;"   ><table style="border-collapse:collapse;"   border="0"   ><colgroup><col style="width:132px;"   /><col style="width:213px;"   /><tbody valign="top"   ><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >布尔值</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >编码</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >False</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x01 01 00</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >True</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x01 01 FF</span></p></td></tr></table></div><p style="background: white; margin-left: 15pt;"   ><span style="color:#333333; font-size:10pt;"   ><span style="font-family:Arial;"   >&nbsp;<br><strong>3.4 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>整数类型</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >整数类型表示一个有符号的任意精度的标量，它的编码是可移植，平台无关的。</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >正整数的编码比较简单。每个字节表示的最大整数是</span><span style="font-family:Arial;"   >255 (0xFF), </span><span style="font-family:宋体;"   >存储的实际数值分成字节大小的数字，并且以</span><span style="font-family:Arial;"   >big-endian</span><span style="font-family:宋体;"   >格式存储。例如：</span><span style="font-family:Arial;"   ><br><img title="[转] ASN.1编码学习笔记 - Howie - Dspace"   src="pic/img2.ph.126.net_-Jb46qmglcVopuyxP7TGDw==_1394145559748149010.jpg"   alt=""   /><br></span><span style="font-family:宋体;"   >八位位组</span><span style="font-family:Arial;"   >{Xk, Xk-1,...., X0}</span><span style="font-family:宋体;"   >将以递减的顺序从</span><span style="font-family:Arial;"   >Xk</span><span style="font-family:宋体;"   >到</span><span style="font-family:Arial;"   >X0</span><span style="font-family:宋体;"   >进行存储．编码规定正整数的第一个字节的最高位必须是</span><span style="font-family:Arial;"   >0,</span><span style="font-family:宋体;"   >即</span><span style="font-family:Arial;"   >Xk</span><span style="font-family:宋体;"   >的最高为必须是</span><span style="font-family:Arial;"   >0</span><span style="font-family:宋体;"   >，为</span><span style="font-family:Arial;"   >1</span><span style="font-family:宋体;"   >的话则为负数．例如：　</span><span style="font-family:Arial;"   >x = 49468= 193 * 256 + 60 = 0xC1 * 0x FF + 0x3C; </span><span style="font-family:宋体;"   >即</span><span style="font-family:Arial;"   >X1=0xC1, X0 = 0x3C. </span><span style="font-family:宋体;"   >按正常规定，编码应该是</span><span style="font-family:Arial;"   > 0x02 02 C1 3C, </span><span style="font-family:宋体;"   >但是</span><span style="font-family:Arial;"   >X1</span><span style="font-family:宋体;"   >的最高位是</span><span style="font-family:Arial;"   >1, </span><span style="font-family:宋体;"   >应该被看成负数．最简单的方法是用前端零字节进行填充．编码变为</span><span style="font-family:Arial;"   > 0x02 02 00 C1 3C</span><span style="font-family:宋体;"   >．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   >
</span><span style="font-family:宋体;"   >负整数的编码有些复杂．要先找到一个最小的</span><span style="font-family:Arial;"   >256</span><span style="font-family:宋体;"   >的幂，使它比要编码的负数的绝对值还要大．例如：</span><span style="font-family:Arial;"   >x = - 1555; </span><span style="font-family:宋体;"   >被</span><span style="font-family:Arial;"   >1555</span><span style="font-family:宋体;"   >大的</span><span style="font-family:Arial;"   >256</span><span style="font-family:宋体;"   >的最小的幂是</span><span style="font-family:Arial;"   >256^2 = 65536; </span><span style="font-family:宋体;"   >然后将这个数跟负数相加以得到</span><span style="font-family:Arial;"   >2</span><span style="font-family:宋体;"   >的补码．</span><span style="font-family:Arial;"   > 65536 + (-1555) = 63981 =&nbsp; 0xF9 * 0xFF + 0x ED. </span><span style="font-family:宋体;"   >则编码为</span><span style="font-family:Arial;"   > 0x02 02 F9 ED.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >以下是一些常用整数编码的例子．</span><span style="font-family:Arial;"   >
</span></span></p><div style="text-align: center;"   ><table style="border-collapse:collapse;"   border="0"   ><colgroup><col style="width:131px;"   /><col style="width:213px;"   /><tbody valign="top"   ><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:宋体; font-size:9pt;"   >值</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  outset 0.75pt; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:宋体; font-size:9pt;"   >编码</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 01 00</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 01 01</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >2</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 01 02</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >127</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 01 7F</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >128</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 02 00 80</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >-1</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 01 FF</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >-128</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 01 80</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >-32768</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 02 80 00</span></p></td></tr><tr><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  outset 0.75pt; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p><span style="color:#333333; font-family:Arial; font-size:9pt;"   >1234567890</span></p></td><td vAlign="middle"   style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  outset 0.75pt; border-right:  outset 0.75pt;"   ><p style="text-align: center;"   ><span style="color:#333333; font-family:Arial; font-size:9pt;"   >0x02 04 49 96 02 D2</span></p></td></tr></table></div><p><span style="color:#333333; font-size:10pt;"   ><span style="font-family:Arial;"   >&nbsp;<br><strong>3.5 ANS.1</strong></span><span style="font-family:宋体;"   ><strong>位串类型</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >位串</span><span style="font-family:Arial;"   >(BIT STRING)</span><span style="font-family:宋体;"   >类型以可移植形式表示位数组．除了</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >头部两个字节之外，还有一个附加的头部用来表示填充数据</span><span style="font-family:Arial;"   >(</span><span style="font-family:宋体;"   >通常是一个字节</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >因为填充是为了形成一个完整的字节</span><span style="font-family:Arial;"   >)</span><span style="font-family:宋体;"   >．编码规则：位串的第一位放到第一个负载字节的第</span><span style="font-family:Arial;"   >8</span><span style="font-family:宋体;"   >位；位串的第二位放到第一个负载字节的第</span><span style="font-family:Arial;"   >7</span><span style="font-family:宋体;"   >位</span><span style="font-family:Arial;"   >; </span><span style="font-family:宋体;"   >依此类推．填充满第一个负载字节，就继续填充第二个负载字节．如果最后一个负载字节未被填充满，空的位用</span><span style="font-family:Arial;"   >0</span><span style="font-family:宋体;"   >来填充</span><span style="font-family:Arial;"   >, 0</span><span style="font-family:宋体;"   >的个数存放到头部用来表示填充数据的那个字节里．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >下面举例说明：</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >有一个位串</span><span style="font-family:Arial;"   >{1,0,0,0,1,1,1,0,1,0,0,1}</span><span style="font-family:宋体;"   >，开始填充负载字节．第一个字节填充后为</span><span style="font-family:Arial;"   >10001110 = 0x 8E; </span><span style="font-family:宋体;"   >第二个字节填充后为</span><span style="font-family:Arial;"   >10010000 = 0x90, </span><span style="font-family:宋体;"   >低位</span><span style="font-family:Arial;"   >4</span><span style="font-family:宋体;"   >个</span><span style="font-family:Arial;"   >0</span><span style="font-family:宋体;"   >为填充的空位．则，负载为</span><span style="font-family:Arial;"   >2</span><span style="font-family:宋体;"   >个字节加上表示填充</span><span style="font-family:Arial;"   >0</span><span style="font-family:宋体;"   >个数的一个字节</span><span style="font-family:Arial;"   >0x04</span><span style="font-family:宋体;"   >总共</span><span style="font-family:Arial;"   >3</span><span style="font-family:宋体;"   >个字节．则完整的编码为：</span><span style="font-family:Arial;"   >0x03 03 04 8E 90.<br>&nbsp;<br></span><span style="font-family:宋体;"   >解码器通过计算</span><span style="font-family:Arial;"   >8 * </span><span style="font-family:宋体;"   >负载长度</span><span style="font-family:Arial;"   > - </span><span style="font-family:宋体;"   >填充数</span><span style="font-family:Arial;"   >
</span><span style="font-family:宋体;"   >来得到存储输出所需要的位数．</span><span style="font-family:Arial;"   ><br>&nbsp;<br><strong>3.6 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>八位位组串类型</strong></span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   >
</span><span style="font-family:宋体;"   >八位位组串</span><span style="font-family:Arial;"   >(OCTET STRING)</span><span style="font-family:宋体;"   >是保存字节数组，它和位串类型</span><span style="font-family:Arial;"   >(BIT STRING)</span><span style="font-family:宋体;"   >很相似．这种编码非常简单，像其他类型一样对头部进行编码，然后直接将八位位组复制过去即可．例如：对</span><span style="font-family:Arial;"   >{FE, ED, 6A, B4}</span><span style="font-family:宋体;"   >编码；首先存储类型</span><span style="font-family:Arial;"   >0x04, </span><span style="font-family:宋体;"   >接着是长度</span><span style="font-family:Arial;"   >0x04,</span><span style="font-family:宋体;"   >然后是字节本身</span><span style="font-family:Arial;"   >0xFE ED 6A B4; </span><span style="font-family:宋体;"   >完整的编码为</span><span style="font-family:Arial;"   > 0x04 04 FE ED 6A B4.<br>&nbsp;<br><strong>3.7 </strong></span><span style="font-family:宋体;"   ><strong>空类型</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >空</span><span style="font-family:Arial;"   >(NULL)</span><span style="font-family:宋体;"   >类型实际上是</span><span style="font-family:Arial;"   >"</span><span style="font-family:宋体;"   >占位符</span><span style="font-family:Arial;"   >", </span><span style="font-family:宋体;"   >它是含有空白选项的选择修改器所特有．例如：</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MyAccount ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA5String,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA5String,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Credentials&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHOICE{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rsaKey&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;RSAPublicKey,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; passwdHash&nbsp; OCTET STRING,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; none&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NULL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >在上面这个结构中，帐号的证书应该包含一个</span><span style="font-family:Arial;"   >RSA</span><span style="font-family:宋体;"   >密钥或一个密码散列值或什么都没有．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　空类型的编码是</span><span style="font-family:Arial;"   > 0x05 00.<br>&nbsp;<br><strong>3.8 ASN.1 </strong></span><span style="font-family:宋体;"   ><strong>对象标识符类型</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >对象标识符</span><span style="font-family:Arial;"   >(OBJECT IDENTIFIER, OID)</span><span style="font-family:宋体;"   >类型用层次的形式来表示标准规范．标识符树通过一个点分的十进制符号来定义，这个符号以组织，子部分然后是标准的类型和各自的子标识符开始．</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >例如：</span><span style="font-family:Arial;"   >MD5</span><span style="font-family:宋体;"   >的</span><span style="font-family:Arial;"   >OID </span><span style="font-family:宋体;"   >是</span><span style="font-family:Arial;"   > 1.2.840.113549.2.5&nbsp; </span><span style="font-family:宋体;"   >表示为</span><span style="font-family:Arial;"   >"iso(1) member-body (2) US (840) rsadsi(113549) digestAlgorithm (2) md5 (5)", </span><span style="font-family:宋体;"   >所以当解码程序看到这个</span><span style="font-family:Arial;"   >OID</span><span style="font-family:宋体;"   >时</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >就知道是</span><span style="font-family:Arial;"   >MD5</span><span style="font-family:宋体;"   >散列</span><span style="font-family:Arial;"   >.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OID</span><span style="font-family:宋体;"   >在公钥算法标准中很流行</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >它指出证书绑定了哪种散列算法</span><span style="font-family:Arial;"   >. </span><span style="font-family:宋体;"   >同样</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >也有公钥算法</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >分组算法</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >和操作模式的</span><span style="font-family:Arial;"   >OID. </span><span style="font-family:宋体;"   >它们是一种高效且可移植的表示数据包中所选算法的形式</span><span style="font-family:Arial;"   >.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >对</span><span style="font-family:Arial;"   >OID</span><span style="font-family:宋体;"   >的编码规则</span><span style="font-family:Arial;"   >: <br></span><span style="font-family:宋体;"   >前两部分如果定义为</span><span style="font-family:Arial;"   >x.y, </span><span style="font-family:宋体;"   >那么它们将合成一个字</span><span style="font-family:Arial;"   >40*x + y, </span><span style="font-family:宋体;"   >其余部分单独作为一个字节进行编码</span><span style="font-family:Arial;"   >.<br></span><span style="font-family:宋体;"   >每个字首先被分割为最少数量的没有头零数字的</span><span style="font-family:Arial;"   >7</span><span style="font-family:宋体;"   >位数字</span><span style="font-family:Arial;"   >.</span><span style="font-family:宋体;"   >这些数字以</span><span style="font-family:Arial;"   >big-endian</span><span style="font-family:宋体;"   >格式进行组织</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >并且一个接一个地组合成字节</span><span style="font-family:Arial;"   >. </span><span style="font-family:宋体;"   >除了编码的最后一个字节外</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >其他所有字节的最高位</span><span style="font-family:Arial;"   >(</span><span style="font-family:宋体;"   >位</span><span style="font-family:Arial;"   >8)</span><span style="font-family:宋体;"   >都为</span><span style="font-family:Arial;"   >1.<br>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >举例</span><span style="font-family:Arial;"   >: 30331 = 1 * 128^2 + 108 * 128 + 123&nbsp; </span><span style="font-family:宋体;"   >分割成</span><span style="font-family:Arial;"   >7</span><span style="font-family:宋体;"   >位数字</span><span style="font-family:Arial;"   >(0x80)</span><span style="font-family:宋体;"   >后为</span><span style="font-family:Arial;"   >{1,108,123}</span><span style="font-family:宋体;"   >设置最高位后变成</span><span style="font-family:Arial;"   >{129,236,123}.</span><span style="font-family:宋体;"   >如果该字只有一个</span><span style="font-family:Arial;"   >7</span><span style="font-family:宋体;"   >位数字</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >那么最高为</span><span style="font-family:Arial;"   >0.<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; MD5 OID</span><span style="font-family:宋体;"   >的编码</span><span style="font-family:Arial;"   >:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. </span><span style="font-family:宋体;"   >将</span><span style="font-family:Arial;"   >1.2.840.113549.2.5</span><span style="font-family:宋体;"   >转换成字数组</span><span style="font-family:Arial;"   > {42, 840, 113549, 2, 5}.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. </span><span style="font-family:宋体;"   >然后将每个字分割为带有最高位的</span><span style="font-family:Arial;"   >7</span><span style="font-family:宋体;"   >位数字，</span><span style="font-family:Arial;"   >{{0x2A},{0x86,0x48},{0x86,0xF7,0x0D},{0x02},{0x05}}.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3. </span><span style="font-family:宋体;"   >最后完整的编码为</span><span style="font-family:Arial;"   > 0x06 08 2A 86 48 86 F7 0D 02 05.</span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   ><br>&nbsp;<br><strong>3.9 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>序列和集合类型</strong></span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   >
</span><span style="font-family:宋体;"   >序列</span><span style="font-family:Arial;"   >(SEQUENCE)</span><span style="font-family:宋体;"   >和单一序列</span><span style="font-family:Arial;"   >(SEQUENCE OF)</span><span style="font-family:宋体;"   >以及相应的集合</span><span style="font-family:Arial;"   >(SET)</span><span style="font-family:宋体;"   >和单一集合</span><span style="font-family:Arial;"   >(SET OF)</span><span style="font-family:宋体;"   >类型叫做</span><span style="font-family:Arial;"   >"</span><span style="font-family:宋体;"   >结构</span><span style="font-family:Arial;"   >"</span><span style="font-family:宋体;"   >类型或简单容器．它们是一种用来把相关数据元素收集为一个独立的可解码元素的简单方法．</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >序列编码有以下性质：</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. </span><span style="font-family:宋体;"   >编码是结构化的．即头字节的位</span><span style="font-family:Arial;"   >6</span><span style="font-family:宋体;"   >必须设置．　</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   > 2. </span><span style="font-family:宋体;"   >编码的内容是由</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >序列类型定义列表中的所有数据类型值的完全编码所组成，并且按照它们出现的顺序进行编码，除非这些类型被可选</span><span style="font-family:Arial;"   >(OPTIONAL)</span><span style="font-family:宋体;"   >或默认</span><span style="font-family:Arial;"   >(DEFAULT)</span><span style="font-family:宋体;"   >关键字所引用．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   >
</span><span style="font-family:宋体;"   >例：考虑如下序列</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   > User ::== SEQUENCE{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTEGER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Active BOOLEAN<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >当取值为</span><span style="font-family:Arial;"   >{32,TRUE}</span><span style="font-family:宋体;"   >时，编码为</span><span style="font-family:Arial;"   > 0x 30 06 02 01 20 01 01 FF} </span><span style="font-family:宋体;"   >在</span><span style="font-family:Arial;"   >ASN.1</span><span style="font-family:宋体;"   >文档里，使用空格来表示编码的属性．</span><span style="font-family:Arial;"   ><br></span><span style="font-family:宋体;"   >　</span><span style="font-family:Arial;"   >0x30 06<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 02 01 20<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 01 01 FF<br>&nbsp;<br><strong>3.10 ASN.1</strong></span><strong><span style="font-family:宋体;"   >可打印字符串和</span><span style="font-family:Arial;"   >IA5String</span><span style="font-family:宋体;"   >类型</span></strong><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >可打印字符串</span><span style="font-family:Arial;"   >(PrintableString)</span><span style="font-family:宋体;"   >和</span><span style="font-family:Arial;"   >IA5String</span><span style="font-family:宋体;"   >类型定义了一种独立于本地代码页和字符集定义，在任何平台上都可以将</span><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >字符串编码为可读字符串的可移植方法．</span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >可打印字符串对象是</span><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >集合的一个有限子集，这个子集包括</span><span style="font-family:Arial;"   >32,39,40~41,43~58,61,63</span><span style="font-family:宋体;"   >以及</span><span style="font-family:Arial;"   >65~122.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA5String</span><span style="font-family:宋体;"   >类型的编码对象是</span><span style="font-family:Arial;"   >ASCII</span><span style="font-family:宋体;"   >集合中的大多数．包括</span><span style="font-family:Arial;"   >NULL,BEL,TAB,NL,LF,CR</span><span style="font-family:宋体;"   >以及</span><span style="font-family:Arial;"   >32~126.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >可打印字符串和</span><span style="font-family:Arial;"   >IA5String</span><span style="font-family:宋体;"   >的编码和八位位组串相似．可打印字符串的头字节是</span><span style="font-family:Arial;"   >0x13, IA5String</span><span style="font-family:宋体;"   >的是</span><span style="font-family:Arial;"   >0x16. </span><span style="font-family:宋体;"   >例如：</span><span style="font-family:Arial;"   >"Hello World"</span><span style="font-family:宋体;"   >的编码为</span><span style="font-family:Arial;"   >0x13 0B 48 65 6D 6D 6F 20 57 6F 72 6D 64.<br>&nbsp;<br><strong>3.11 ASN.1</strong></span><span style="font-family:宋体;"   ><strong>世界协调时类型</strong></span><span style="font-family:Arial;"   ><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >世界协调时</span><span style="font-family:Arial;"   >(UTCTIME)</span><span style="font-family:宋体;"   >定义了一种相对</span><span style="font-family:Arial;"   >GMT</span><span style="font-family:宋体;"   >时间的标准时间</span><span style="font-family:Arial;"   >(</span><span style="font-family:宋体;"   >以日期</span><span style="font-family:Arial;"   >)</span><span style="font-family:宋体;"   >编码</span><span style="font-family:Arial;"   >.</span><span style="font-family:宋体;"   >它使用</span><span style="font-family:Arial;"   >"YYMMDDHHMMSSZ"</span><span style="font-family:宋体;"   >的格式分别表示年</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >月</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >日</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >时</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >分</span><span style="font-family:Arial;"   >,</span><span style="font-family:宋体;"   >秒</span><span style="font-family:Arial;"   >. </span><span style="font-family:宋体;"   >其中</span><span style="font-family:Arial;"   >"Z"</span><span style="font-family:宋体;"   >是遗留自初始的</span><span style="font-family:Arial;"   >UTCTIME. </span><span style="font-family:宋体;"   >如果没有</span><span style="font-family:Arial;"   >"Z",</span><span style="font-family:宋体;"   >就允许两种附加组</span><span style="font-family:Arial;"   >"[+/-]hh 'mm'",</span><span style="font-family:宋体;"   >其中</span><span style="font-family:Arial;"   >"hh"</span><span style="font-family:宋体;"   >和</span><span style="font-family:Arial;"   >"mm"</span><span style="font-family:宋体;"   >分别为与</span><span style="font-family:Arial;"   >GMT</span><span style="font-family:宋体;"   >的时差和分差</span><span style="font-family:Arial;"   >. </span><span style="font-family:宋体;"   >如果有</span><span style="font-family:Arial;"   >"Z",</span><span style="font-family:宋体;"   >则时间是以</span><span style="font-family:Arial;"   >Zulu</span><span style="font-family:宋体;"   >或</span><span style="font-family:Arial;"   >GMT</span><span style="font-family:宋体;"   >时间表示</span><span style="font-family:Arial;"   >.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;"   >字符串的编码按照</span><span style="font-family:Arial;"   >IA5String</span><span style="font-family:宋体;"   >编码规则进行转换</span><span style="font-family:Arial;"   >(ASCII</span><span style="font-family:宋体;"   >字符集</span><span style="font-family:Arial;"   >),</span><span style="font-family:宋体;"   >其头字节为</span><span style="font-family:Arial;"   >0x17</span><span style="font-family:宋体;"   >而不是</span><span style="font-family:Arial;"   >0x16. </span><span style="font-family:宋体;"   >例如</span><span style="font-family:Arial;"   >:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; July 4,2003 at 11:33 and 28 seconds</span><span style="font-family:宋体;"   >编码为</span><span style="font-family:Arial;"   >"030704113328Z", </span><span style="font-family:宋体;"   >再编码</span><span style="font-family:Arial;"   >0x17 0D 30 33 30 37 30 34 31 31 33 33 32 38 5A.<br></span></span><br></p>
</body></html>