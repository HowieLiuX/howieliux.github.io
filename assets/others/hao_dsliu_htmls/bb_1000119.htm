<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：重载函数参数匹配规则 [简单叙述]</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>重载函数参数匹配规则 [简单叙述]</h2>
<p align="right">发布时间：2012-9-10 00:25
<br>分类名称：C++</p><br>
<p style="text-align: justify;"  >以下引自C++ Primer 3th  </p><ol><li><div style="text-align: justify;"  >精确匹配（包括完全匹配和最小的类型转换，如下） </div></li></ol><ul style="margin-left: 39pt;"  ><li><div style="text-align: justify;"  >从左值到右值的转换 </div><p>左值代表了一个可被程序寻址的对象，可以从该对象读取一个值，除非该对象被声明为const，否则它的值也可以被修改。右值只是一个表达式，它表示了一个值或一个引用了临时对象的表达式，用户不能寻址该对象也不能改变它的值。 </p><p>从一个左值表达式所表示的对象中抽取值的动作就是一个从左值到右值的转换。 </p><p>当一个函数期望一个按值传递的实参，而该实参又是一个左值的时候，就会执行从左值到右值的转换。（也就是先把实参的值用一个临时区域存储（抽取操作），然后将临时变量传递到函数中，这个抽取的操作中，临时变量就是右值，因为在代码中无法定位它的地址）。一个引用表示一个左值（因为引用的本义必须被赋值），所以当一个函数有一个引用参数时被调用的函数接受一个左值。因此，接受引用的函数中不会有从左值到右值的转换。 </p></li><li><div style="text-align: justify;"  >从数组到指针的转换 </div><p>函数参数没有数组类型，取而代之的是参数被转换成指向数组首元素的指针。 </p></li></ul><ul style="margin-left: 38pt;"  ><li><div style="text-align: justify;"  >从函数到指针的转换 </div><p>前三种，统称为<strong>左值转换</strong>。 </p></li><li><div style="text-align: justify;"  >限定修饰转换 </div><p>限定修饰转换只应用在<strong>指针指向的类型上</strong>。 </p><p>extern void takeCI( const int );&nbsp;&nbsp;&nbsp;&nbsp;// const value </p><p>int ii = ...;  </p><p>takeCI(ii);  // 无转换发生 </p><p> &nbsp;</p><p>extern void init( int *const ); // const pointer </p><p>extern int *pi; </p><p>init(pi); // 没有限制转换 </p></li></ul><p> &nbsp;</p><ol><li><div style="text-align: justify;"  >类型转换 </div></li></ol><ul style="margin-left: 39pt;"  ><li><div style="text-align: justify;"  >提升promotion  </div><p><img title="重载函数参数匹配规则 [简单叙述] - Howie - Dspace"  src="pic/img5.ph.126.net_-_mxLdspA-Ssga-s1xqb7Q==_6597799842376921325.jpg"  alt=""  />    </p></li><li><div style="text-align: justify;"  >标准转换standard conversion </div><p><img title="重载函数参数匹配规则 [简单叙述] - Howie - Dspace"  src="pic/img9.ph.126.net_YGcb3ekDNoZfK65sePGnug==_6597641512702522709.jpg"  alt=""  />    </p></li><li><div style="text-align: justify;"  >用户定义的转换user-defined conversions </div></li></ul><p> &nbsp;</p><ol><li><div style="text-align: justify;"  >无匹配 </div></li></ol><p> &nbsp;</p><p>函数转换被划分等级如下： </p><ul><li><div style="text-align: justify;"  >精确匹配比提升好 </div></li><li><div style="text-align: justify;"  >提升比标准转换好 </div></li><li><div style="text-align: justify;"  >标准转换比用户定义的转换好 </div></li></ul>
</body></html>