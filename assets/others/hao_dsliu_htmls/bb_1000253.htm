<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：[转] Memory Layout for Multiple and Virtual Inheritance</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>[转] Memory Layout for Multiple and Virtual Inheritance</h2>
<p align="right">发布时间：2011-3-6 14:43
<br>分类名称：windows</p><br>
   <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 1;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 18.0pt;"   lang="EN-US"  >(By Edsko de Vries, January 2006)</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 1;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 18.0pt;"   lang="EN-US"  ></SPAN><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: #b53614; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Warning</SPAN></B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: #b53614; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. This article is rather technical and assumes a good knowledge of C++ and some assembly language.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >In this article we explain the object layout implemented by&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >gcc</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;for multiple and virtual inheritance. Although in an ideal world C++ programmers should not need to know these details of the compiler internals, unfortunately the way multiple (and especially virtual) inheritance is implemented has various non-obvious consequences for writing C++ code (in particular, for<A rel="nofollow" href="http://www.phpcompiler.org/articles/virtualinheritance.html#Downcasting"   ><SPAN style="COLOR: blue;"   >downcasting pointers</SPAN></A>, using&nbsp;<A rel="nofollow" href="http://www.phpcompiler.org/articles/virtualinheritance.html#DoublePointers"   ><SPAN style="COLOR: blue;"   >pointers to pointers</SPAN></A>, and the invocation order of&nbsp;<A rel="nofollow" href="http://www.phpcompiler.org/articles/virtualinheritance.html#VirtualConstructors"   ><SPAN style="COLOR: blue;"   >constructors for virtual bases</SPAN></A>). If you understand how multiple inheritance is implemented, you will be able anticipate these consequences and deal with them in your code. Also, it is useful to understand the cost of using virtual inheritance if you care about efficiency. Finally, it is interesting :-)</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 2;"   align="left"  ><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 14pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Multiple Inheritance</SPAN></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >First we consider the relatively simple case of (non-virtual) multiple inheritance. Consider the following C++ class hierarchy.</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> a;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Left : <B>public</B> Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> b;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Right : <B>public</B> Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> c;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Bottom : <B>public</B> Left, <B>public</B> Right</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> d;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Using a UML diagram, we can represent this hierarchy as</SPAN></P><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >  <DIV><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img617.ph.126.net_T7cv6nN0FfPz2wO8MRaRCA==_1657887612827495253.png"   ></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  >&nbsp;</P></SPAN>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Note that&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is inherited from&nbsp;<I>twice</I>&nbsp;(this is known as&nbsp;<I>repeated inheritance</I>&nbsp;in Eiffel). This means that an object&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;of type&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;will have&nbsp;<I>two</I>&nbsp;attributes called&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(accessed as&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bottom.Left::a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bottom.Right::a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >).</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >How are&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >,&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;laid out in memory? We show the simplest case first.&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >have the following structure:</SPAN></P>  <DIV align="center"  >  <TABLE style="mso-yfti-tbllook: 1184; mso-cellspacing: 7.5pt;"   border="0"  cellSpacing="10"  cellPadding="0"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <TABLE style="WIDTH: 75pt; mso-yfti-tbllook: 1184; mso-cellspacing: 1.5pt;"   border="0"  cellPadding="0"  width="100"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0.75pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 0.75pt; PADDING-RIGHT: 0.75pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0.75pt;"   >  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR></TABLE></TD>  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <TABLE style="WIDTH: 75pt; mso-yfti-tbllook: 1184; mso-cellspacing: 1.5pt;"   border="0"  cellPadding="0"  width="100"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0.75pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 0.75pt; PADDING-RIGHT: 0.75pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0.75pt;"   >  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR></TABLE></TD></TR></TABLE></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Note that the first attribute is the attribute inherited from&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. This means that after the following two assignments</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left* left = <B>new</B> Left();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top* top = left;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;can point to the exact same address, and we can treat the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object as if it were a</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object (and obviously a similar thing happens for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >). What about&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >?&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >gcc</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;suggests</SPAN></P>  <DIV align="center"  >  <TABLE style="WIDTH: 75pt; mso-yfti-tbllook: 1184; mso-cellspacing: 1.5pt;"   border="0"  cellPadding="0"  width="100"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0.75pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 0.75pt; PADDING-RIGHT: 0.75pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0.75pt;"   >  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 3;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 4;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 5; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom::d</SPAN></P></TD></TR></TABLE></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Now what happens when we upcast a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;pointer?</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom* bottom = <B>new</B> Bottom();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left* left = bottom;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This works out nicely. Because of the memory layout, we can treat an object of type&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;as if it were an object of type&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, because the memory layout of both classes coincide. However, what happens when we upcast to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >?</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right* right = bottom;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >For this to work, we have to adjust the pointer value to make it point to the corresponding section of the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;layout:</SPAN></P>  <DIV align="center"  >  <TABLE style="BORDER-COLLAPSE: collapse; mso-yfti-tbllook: 1184;"   border="0"  cellSpacing="0"  cellPadding="0"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 0.75pt; PADDING-LEFT: 0.75pt; WIDTH: 75pt; PADDING-RIGHT: 0.75pt; BACKGROUND: #efdba7; BORDER-TOP: black 1pt solid; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 0.75pt; mso-border-alt: solid black .75pt;"   width="100"  >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 3;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;-<SPAN style="mso-no-proof: yes;"   >-&gt;</SPAN>&nbsp;</SPAN></P></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 4;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 5; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom::d</SPAN></P></TD></TR></TABLE></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >After this adjustment, we can access&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;through the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;pointer as a normal&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object; however,&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;now point to&nbsp;<I>different</I>&nbsp;memory locations. For completeness' sake, consider what would happen when we do</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top* top = bottom;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right, nothing at all. This statement is ambiguous: the compiler will complain</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >error: `Top' is an ambiguous base of `Bottom'</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The two possibilities can be disambiguated using</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top* topL = (Left*) bottom;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top* topR = (Right*) bottom;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >After these two assignments,&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >topL</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;will point to the same address, as will&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >topR</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 2;"   align="left"  ><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 14pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Virtual Inheritance</SPAN></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >To avoid the repeated inheritance of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, we must inherit&nbsp;<I>virtually</I>&nbsp;from&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> a;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Left : <B>virtual</B> <B>public</B> Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> b;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Right : <B>virtual</B> <B>public</B> Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> c;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Bottom : <B>public</B> Left, <B>public</B> Right</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> d;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This yields the following hierarchy (which is perhaps what you expected in the first place)</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img154.ph.126.net_j35h5dt_dTrBFHb3X8ao2Q==_2272066012010317833.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >while this may seem more obvious and simpler from a programmer's point of view, from the compiler's point of view, this is vastly more complicated. Consider the layout of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;again. One (non) possibility is</SPAN></P>  <DIV align="center"  >  <TABLE style="WIDTH: 75pt; mso-yfti-tbllook: 1184; mso-cellspacing: 1.5pt;"   border="0"  cellPadding="0"  width="100"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 0.75pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 0.75pt; PADDING-RIGHT: 0.75pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 0.75pt;"   >  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::Top::a</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 3;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 4; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom::d</SPAN></P></TD></TR></TABLE></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The advantage of this layout is that the first part of the layout collides with the layout of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, and we can thus access a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;easily through a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;pointer. However, what are we going to do with</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right* right = bottom;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Which address do we assign to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >? After this assignment, we should be able to use&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;as if it were pointing to a regular&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object. However, this is impossible! The memory layout of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >itself is completely different, and we can thus no longer access a “real”&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object in the same way as an upcasted&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object. Moreover, no other (simple) layout for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;will work.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The solution is non-trivial. We will show the solution first and then explain it.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img548.ph.126.net_To07rKUNI9KBsGjVNyOv-A==_3089750819354142889.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >You should note two things in this diagram. First, the order of the fields is completely different (in fact, it is approximately the reverse). Second, there are these new&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;pointers. These attributes are automatically inserted by the compiler when necessary (when using virtual inheritance, or when using virtual functions). The compiler also inserts code into the constructor to initialise these pointers.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >s (virtual pointers) index a “virtual table”. There is a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;for every virtual base of the class. To see how the virtual table (<B>vtable</B>) is used, consider the following C++ code.</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom* bottom = <B>new</B> Bottom();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left* left = bottom;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >int</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > p = left-&gt;a;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The second assignment makes&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;point to the&nbsp;<I>same address</I>&nbsp;as&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(i.e., it points to the “top” of the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object). We consider the compilation of the last assignment (slightly simplified):</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >movl</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>left, %eax<SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><I><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ># %eax = left</SPAN></I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >movl</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>(%eax), %eax<SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><I><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ># %eax = left.vptr.Left</SPAN></I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >movl</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>(%eax), %eax<SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><I><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ># %eax = virtual base offset</SPAN></I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >addl</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>left, %eax<SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><I><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ># %eax = left + virtual base offset</SPAN></I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >movl</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>(%eax), %eax<SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><I><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ># %eax = left.a</SPAN></I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >movl</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>%eax, p<SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><I><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ># p = left.a</SPAN></I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >In words, we use&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;to index the virtual table and obtain the “virtual base offset” (<B>vbase</B>). This offset is then added to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, which is then used to index the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;section of the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >object. From the diagram, you can see that the virtual base offset for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is 20; if you assume that all the fields in&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;are 4 bytes, you will see that adding 20 bytes to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;will indeed point to the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;field.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >With this setup, we can access the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;part the same way. After</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom* bottom = <B>new</B> Bottom();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right* right = bottom;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >int</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > p = right-&gt;a;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;will point to the appropriate part of the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object:</SPAN></P>  <DIV align="center"  >  <TABLE style="BORDER-COLLAPSE: collapse; mso-yfti-tbllook: 1184;"   border="0"  cellSpacing="0"  cellPadding="0"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 0.75pt; PADDING-LEFT: 0.75pt; WIDTH: 75pt; PADDING-RIGHT: 0.75pt; BACKGROUND: #efdba7; BORDER-TOP: black 1pt solid; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 0.75pt; mso-border-alt: solid black .75pt;"   width="100"  >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Left</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 3;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >right</SPAN><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;<SPAN style="mso-no-proof: yes;"   >--&gt;</SPAN>&nbsp;</SPAN></P></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Right</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 4;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 5;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom::d</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 6; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top::a</SPAN></P></TD></TR></TABLE></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The assignment to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >p</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;can now be compiled in the&nbsp;<I>exact same way</I>&nbsp;as we did previously for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. The only difference is that the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;we access now points to a different part of the virtual table: the virtual base offset we obtain is 12, which is correct (verify!). We can summarise this visually:</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img.ph.126.net_kj4k5jGGrrvNAxJnPZJRwA==_3743054240298854103.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Of course, the point of the exercise was to be able to access real&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;objects the same way as upcasted&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;objects. So, we have to introduce&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >s in the layout of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >) too:</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img.ph.126.net_6V_hGTixf75oYbx9vJtYDA==_2305280059260912794.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Now we can access a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object through a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;pointer without further difficulty. However, this has come at rather large expense: we needed to introduce virtual tables, classes needed to be extended with one or more virtual pointers, and a simple attribute lookup in an object now needs two indirections through the virtual table (although compiler optimizations can reduce that cost somewhat).</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 2;"   align="left"  ><A name="Downcasting" rel="nofollow"  ><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 14pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Downcasting</SPAN></B></A><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 14pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >As we have seen, casting a pointer of type&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >DerivedClass</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;to a pointer of type&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >SuperClass</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(in other words, upcasting) may involve adding an offset to the pointer. One might be tempted to think that downcasting (going the other way) can then simply be implemented by subtracting the same offset. And indeed, this is the case for non-virtual inheritance. However, virtual inheritance (unsurprisingly!) introduces another complication.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Suppose we extend our inheritance hierarchy with the following class.</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > AnotherBottom : <B>public</B> Left, <B>public</B> Right</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> e;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> f;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The hierarchy now looks like</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img.ph.126.net_nkkvRkb1Vfonm9mRbjdWMw==_2305280059260912811.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Now consider the following code.</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom* bottom1 = <B>new</B> Bottom();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom* bottom2 = <B>new</B> AnotherBottom();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top* top1 = bottom1;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top* top2 = bottom2;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left* left = <B>static_cast&lt;</B>Left*<B>&gt;</B>(top1);</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The following diagram shows the layout of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, and shows where&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is pointing after the last assignment.</SPAN></P>  <DIV align="center"  >  <TABLE style="mso-yfti-tbllook: 1184; mso-cellspacing: 7.5pt;"   border="0"  cellSpacing="10"  cellPadding="0"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   vAlign="top"  >  <TABLE style="BORDER-COLLAPSE: collapse; mso-yfti-tbllook: 1184;"   border="0"  cellSpacing="0"  cellPadding="0"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 0.75pt; PADDING-LEFT: 0.75pt; WIDTH: 112.5pt; PADDING-RIGHT: 0.75pt; BACKGROUND: #efdba7; BORDER-TOP: black 1pt solid; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 0.75pt; mso-border-alt: solid black .75pt;"   width="150"  >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Left</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 3;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Right</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 4;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 5;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom::d</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 6; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top1</SPAN><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;<SPAN style="mso-no-proof: yes;"   >--&gt;</SPAN>&nbsp;</SPAN></P></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top::a</SPAN></P></TD></TR></TABLE></TD>  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <TABLE style="BORDER-COLLAPSE: collapse; mso-yfti-tbllook: 1184;"   border="0"  cellSpacing="0"  cellPadding="0"  >  <TBODY>  <TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 0.75pt; PADDING-LEFT: 0.75pt; WIDTH: 112.5pt; PADDING-RIGHT: 0.75pt; BACKGROUND: #efdba7; BORDER-TOP: black 1pt solid; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 0.75pt; mso-border-alt: solid black .75pt;"   width="150"  >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom</SPAN></B></P></TD></TR>  <TR style="mso-yfti-irow: 1;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Left</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 2;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::b</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 3;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Right</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 4;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::c</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 5;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom::e</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 6;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   ></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom::f</SPAN></P></TD></TR>  <TR style="mso-yfti-irow: 7; mso-yfti-lastrow: yes;"   >  <TD style="BORDER-BOTTOM: #f0f0f0; BORDER-LEFT: #f0f0f0; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; PADDING-TOP: 2.25pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top2</SPAN><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;<SPAN style="mso-no-proof: yes;"   >--&gt;</SPAN>&nbsp;</SPAN></P></TD>  <TD style="BORDER-BOTTOM: black 1pt solid; BORDER-LEFT: black 1pt solid; PADDING-BOTTOM: 2.25pt; BACKGROUND-COLOR: transparent; PADDING-LEFT: 2.25pt; PADDING-RIGHT: 2.25pt; BORDER-TOP: #f0f0f0; BORDER-RIGHT: black 1pt solid; PADDING-TOP: 2.25pt; mso-border-alt: solid black .75pt; mso-border-top-alt: solid black .75pt;"   >  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top::a</SPAN></P></TD></TR></TABLE></TD></TR></TABLE></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Now consider how to implement the&nbsp;<I>static</I>&nbsp;cast from&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top1</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, while taking into account that we do not know whether&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top1</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is pointing to an object of type&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;or an object of type</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. It can't be done! The necessary offset depends on the runtime type of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top1</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(20 for</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and 24 for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >AnotherBottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >). The compiler will complain:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >error: cannot convert from base `Top' to derived type `Left' </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >via virtual base `Top'</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Since we need runtime information, we need to use a dynamic cast instead:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left* left = <B>dynamic_cast&lt;</B>Left*<B>&gt;</B>(top1);</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >However, the compiler is still unhappy:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >error: cannot dynamic_cast `top' (of type `class Top*') to type </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>`class Left*' (source type is not polymorphic)</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The problem is that a dynamic cast (as well as use of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >typeid</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >) needs runtime type information about the object pointed to by&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top1</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. However, if you look at the diagram, you will see that all we have at the location pointed to by&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >top1</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is an integer (</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >). The compiler did not include a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >because it did not think that was necessary. To force the compiler to include this&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, we can add a virtual destructor to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>virtual</B> ~Top() {} </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> a;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This change necessitates a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. The new layout for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img245.ph.126.net_EB_DP-IpnaT90O3q1Kh8nA==_2110499375378061519.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >(Of course, the other classes get a similar new&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;attribute). The compiler now inserts a library call for the dynamic cast:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >left = __dynamic_cast(top1, typeinfo_for_Top, typeinfo_for_Left, -1);</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This function&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >__dynamic_cast</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is defined in&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >libstdc++</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(the corresponding header file is&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >cxxabi.h</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >); armed with the type information for&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >,&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(through&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr.Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >), the cast can be executed. (The -1 parameter indicates that the relationship between&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is presently unknown). For details, refer to the implementation in&nbsp;<A rel="nofollow" href="http://www.codesourcery.com/public/cxx-abi/gcc-tinfo.cc"   ><SPAN style="COLOR: blue;"   >tinfo.cc</SPAN></A>.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 2;"   align="left"  ><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 14pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Concluding Remarks</SPAN></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Finally, we tie a couple of loose ends.</SPAN><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 10pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 3;"   align="left"  ><A name="DoublePointers" rel="nofollow"  ><B><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 12pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >(In)variance of Double Pointers</SPAN></I></B></A><SPAN style="mso-bookmark: DoublePointers;"   ></SPAN><B><I><SPAN style="FONT-FAMILY: 宋体; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></I></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This is were it gets slightly confusing, although it is rather obvious when you give it some thought. We consider an example. Assume the class hierarchy presented in the last section (<A rel="nofollow" href="http://www.phpcompiler.org/articles/virtualinheritance.html#Downcasting"   ><SPAN style="COLOR: blue;"   >Downcasting</SPAN></A>). We have seen previously what the effect is of</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom* b = <B>new</B> Bottom();</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right* r = b;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >(the value of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;gets adjusted by 8 bytes before it is assigned to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >r</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, so that it points to the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >section of the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object). Thus, we can legally assign a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom*</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;to a&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right*</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. What about</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom**</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right**</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >?</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom** bb = &amp;b;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right** rr = bb;</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Should the compiler accept this? A quick test will show that the compiler will complain:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >error: invalid conversion from `Bottom**' to `Right**'</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Why? Suppose the compiler would accept the assignment of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bb</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. We can visualise the result as:</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img855.ph.126.net_agN1-LYx9Kab8MbIJA7yVA==_2759862146649010301.png"   ></SPAN></P>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >So,&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >bb</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;both point to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >r</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;point to the appropriate sections of the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object. Now consider what happens when we assign to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;(note that the type of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right*</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, so this assignment is valid):</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*rr = b;<SPAN style="mso-tab-count: 1;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This is essentially the same assignment as the assignment to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >r</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;above. Thus, the compiler will implement it the same way! In particular, it will adjust the value of&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;by 8 bytes before it assigns it to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. But&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;pointed to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >! If we visualise the result again:</SPAN></P><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >  <DIV><IMG title="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   alt="[转] Memory Layout for Multiple and Virtual Inheritance - Dsliu - Dspace"   style="MARGIN: 0px 10px 0px 0px;"   src="pic/img104.ph.126.net__H0aaUnHg5DS2BTt1e8NWQ==_2036189981526920266.png"   ></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  >&nbsp;</P></SPAN>  <P style="TEXT-ALIGN: center; MARGIN: 0cm 0cm 0pt; mso-pagination: widow-orphan;"   align="center"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt; mso-no-proof: yes;"   lang="EN-US"  ></SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This is correct as long as we access the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;object through&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*rr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, but as soon as we access it through&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;itself, all memory references will be off by 8 bytes — obviously a very undesirable situation.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >So, in summary, even if&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >*b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;are related by some subtyping relation,&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >**a</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;and&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >**b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;are&nbsp;<I>not</I>.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 3;"   align="left"  ><A name="VirtualConstructors" rel="nofollow"  ><B><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 12pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Constructors of Virtual Bases</SPAN></I></B></A><B><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 12pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></I></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >The compiler must guarantee that all virtual pointers of an object are properly initialised. In particular, it guarantees that the constructor for all virtual bases of a class get invoked, and get invoked only once. If you don't explicitly call the constructors of your virtual superclasses (independent of how far up the tree they are), the compiler will automatically insert a call to their default constructors.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >This can lead to some unexpected results. Consider the same class hierarchy again we have been considering so far, extended with constructors:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Top() { a = -1; } </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;</SPAN><SPAN style="mso-spacerun: yes;"   >&nbsp; </SPAN>Top(<B>int</B> _a) { a = _a; } </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> a;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Left : <B>public</B> Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Left() { b = -2; }</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Left(<B>int</B> _a, <B>int</B> _b) : Top(_a) { b = _b; }</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> b;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Right : <B>public</B> Top</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Right() { c = -3; }</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Right(<B>int</B> _a, <B>int</B> _c) : Top(_a) { c = _c; }</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> c;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >class</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  > Bottom : <B>public</B> Left, <B>public</B> Right</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >public</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >:</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Bottom() { d = -4; } </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>Bottom(<B>int</B> _a, <B>int</B> _b, <B>int</B> _c, <B>int</B> _d) : Left(_a, _b), Right(_a, _c) </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-tab-count: 1;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{ </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>d = _d; </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-tab-count: 1;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN><B>int</B> d;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >};</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >(We consider the non-virtual case first.) What would you expect this to output:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom bottom(1,2,3,4);</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >printf("%d %d %d %d %d\n", bottom.Left::a, bottom.Right::a, </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>bottom.b, bottom.c, bottom.d);</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >You would probably expect (and get)</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >1 1 2 3 4</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >However, now consider the virtual case (where we inherit virtually from&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >). If we make that single change, and run the program again, we instead get</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >-1 -1 2 3 4</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Why? If you trace the execution of the constructors, you will find</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top::Top()</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left::Left(1,2)</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right::Right(1,3)</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom::Bottom(1,2,3,4)</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >As explained above, the compiler has inserted a call to the default constructor in&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >, before the execution of the other constructors. Then when&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Left</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;tries to call its superconstructor (</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >), we find that&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Top</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;has already been initialised and the constructor does not get invoked.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >To avoid this situation, you should explicitly call the constructor of your virtual base(s):</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom(int _a, int _b, int _c, int _d): Top(_a), Left(_a,_b), Right(_a,_c) </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >{ </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>d = _d; </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >}</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 3;"   align="left"  ><B><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 12pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Pointer Equivalence</SPAN></I></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Once again assuming the same (virtual) class hierarchy, would you expect this to print “Equal”?</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bottom* b = <B>new</B> Bottom(); </SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Right* r = b;</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >if</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >(r == b)</SPAN></P>  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ><SPAN style="mso-spacerun: yes;"   >&nbsp;&nbsp; </SPAN>printf("Equal!\n");</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Bear in mind that the two addresses are not&nbsp;<I>actually</I>&nbsp;equal (</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >r</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;is off by 8 bytes). However, that should be completely transparent to the user; so, the compiler actually subtracts the 8 bytes from</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >r</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;before comparing it to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >b</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >; thus, the two addresses are considered equal.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 3;"   align="left"  ><B><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 12pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Casting to&nbsp;</SPAN></I></B><B><I><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >void*</SPAN></I></B><B><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 12pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  ></SPAN></I></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >Finally, we consider what happens we can cast an object to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >void*</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >. The compiler must guarantee that a pointer cast to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >void*</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;points to the “top” of the object. Using the vtable, this is actually very easy to implement. You may have been wondering what the&nbsp;<I>offset to top</I>&nbsp;field is. It is the offset from the&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >vptr</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;to the top of the object. So, a cast to&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >void*</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;can be implemented using a single lookup in the vtable. Make sure to use a dynamic cast, however, thus:</SPAN></P>  <DIV style="BORDER-BOTTOM: #8a7640 1pt solid; BORDER-LEFT: #8a7640 1pt solid; PADDING-BOTTOM: 2pt; PADDING-LEFT: 2pt; PADDING-RIGHT: 2pt; BACKGROUND: #efdba7; MARGIN-LEFT: 3.75pt; BORDER-TOP: #8a7640 1pt solid; MARGIN-RIGHT: 3.75pt; BORDER-RIGHT: #8a7640 1pt solid; PADDING-TOP: 2pt; mso-border-alt: solid #8A7640 .75pt; mso-element: para-border-div;"   >  <P style="BORDER-BOTTOM: medium none; TEXT-ALIGN: left; BORDER-LEFT: medium none; PADDING-BOTTOM: 0cm; MARGIN: 3.75pt 0cm; PADDING-LEFT: 0cm; PADDING-RIGHT: 0cm; BACKGROUND: #efdba7; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0cm; mso-border-alt: solid #8A7640 .75pt; mso-pagination: widow-orphan; mso-padding-alt: 2.0pt 2.0pt 2.0pt 2.0pt; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;"   align="left"  ><B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >dynamic_cast</SPAN></B><SPAN style="FONT-FAMILY: 宋体; COLOR: #b53614; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&lt;<B>void</B>*&gt;(b);</SPAN></P></DIV>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan; mso-outline-level: 2;"   align="left"  ><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 14pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >References</SPAN></B></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >[1]&nbsp;<A rel="nofollow" href="http://www.codesourcery.com/"   ><SPAN style="COLOR: blue;"   >CodeSourcery</SPAN></A>, in particular the&nbsp;<A rel="nofollow" href="http://www.codesourcery.com/public/cxx-abi/"   ><SPAN style="COLOR: blue;"   >C++ ABI Summary</SPAN></A>, the&nbsp;<A rel="nofollow" href="http://www.codesourcery.com/public/cxx-abi/abi.html"   ><SPAN style="COLOR: blue;"   >Itanium C++ ABI</SPAN></A>&nbsp;(despite the name, this document is referenced in a platform-independent context; in particular, the&nbsp;<A rel="nofollow" href="http://www.codesourcery.com/public/cxx-abi/abi.html#vtable"   ><SPAN style="COLOR: blue;"   >structure of the vtables</SPAN></A>&nbsp;is detailed here). The&nbsp;</SPAN><SPAN style="FONT-FAMILY: 宋体; COLOR: black; FONT-SIZE: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >libstdc++</SPAN><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >&nbsp;implementation of dynamic casts, as well RTTI and name unmangling/demangling, is defined in&nbsp;<A rel="nofollow" href="http://www.codesourcery.com/public/cxx-abi/gcc-tinfo.cc"   ><SPAN style="COLOR: blue;"   >tinfo.cc</SPAN></A>.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >[2] The&nbsp;<A rel="nofollow" href="http://gcc.gnu.org/libstdc++/"   ><SPAN style="COLOR: blue;"   >libstdc++</SPAN></A>&nbsp;website, in particular the section on the&nbsp;<A rel="nofollow" href="http://gcc.gnu.org/onlinedocs/libstdc++/api.html"   ><SPAN style="COLOR: blue;"   >C++ Standard Library API</SPAN></A>.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >[3]&nbsp;<A rel="nofollow" href="http://www.openrce.org/articles/files/jangrayhood.pdf"   ><SPAN style="COLOR: blue;"   >C++: Under the Hood</SPAN></A>&nbsp;by Jan Gray.</SPAN></P>  <P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-pagination: widow-orphan;"   align="left"  ><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 10pt; mso-fareast-font-family: 宋体; mso-font-kerning: 0pt;"   lang="EN-US"  >[4] Chapter 9, “Multiple Inheritance” of&nbsp;<I>Thinking in C++ (volume 2)</I>&nbsp;by&nbsp;<A rel="nofollow" href="http://www.bruceeckel.com/"   ><SPAN style="COLOR: blue;"   >Bruce Eckel</SPAN></A>. The author has made this book available for&nbsp;<A rel="nofollow" href="http://mindview.net/Books/DownloadSites"   ><SPAN style="COLOR: blue;"   >download</SPAN></A>.</SPAN></P>
</body></html>