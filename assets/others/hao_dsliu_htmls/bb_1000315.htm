<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：[转] 关于iPhone、iPod Touch越狱破解原理＆相关扫盲。更新3代不完美越狱原因。</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>[转] 关于iPhone、iPod Touch越狱破解原理＆相关扫盲。更新3代不完美越狱原因。</h2>
<p align="right">发布时间：2010-3-3 11:30
<br>分类名称：Mac</p><br>
<font size="3"  ><b><span style="color: rgb(255, 0, 0);"  ><br>1.</span><span style="color: rgb(255, 0, 0);"  >iPhone、iPod Touch越狱破解原理</span></b></font>  <br><b><font size="3"  ><span style="color: rgb(255, 0, 0);"  >2.关于自定义固件说明</span></font></b>  <br><b><font size="3"  ><span style="color: rgb(255, 0, 0);"  >3.越狱解锁等相关名词解 释<br><br></span></font></b><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日日日日日日日日日日日日日</span></font><font size="4"  ><span style="color: rgb(255, 0, 0);"  >分割线</span></font><font face="华文彩云 "  ><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日 日日日日日日日日日日日日</span></font></font> <br><b><font size="3"  >iPod  Touch3无法完美越狱的原因：</font></b><br><font size="2"  >苹果在Touch3发布不久，就升级了硬件的 iBoot(iBoot可以认为是硬件初始化系统，类似计算机中的BIOS。用于初始化硬件，拥有对系统的最高权限）。<br></font><font size="2"  >所以，修补了前代破解利用的引导漏洞。所以，就不能用以前的方法进行对3代的越狱。<br></font><font size="2"  >但是Geohot还可以根据其他的一些漏洞开发出3代的越狱，但是因为没有针对Iboot进行破解，导致系统开机的时候无法自动载入越 狱的Bootloader（通不过IBOOT的校验），这个时候就需要手动进行引导，这就是为什么3DK机需要执行黑雨引导开机。<br></font><font size="2"  >引导开机其实非常简单，就是一行很简单的代码，所以我们也可以利用这个特性，制作一些单片机来写入代码，这样就可以每次开机都连接电 脑执行黑雨。<br></font><font size="2"  >目前正在研究单片机，争取早日出产品。</font><br><span style="color: rgb(72, 209, 204);"  ><font size="1"  >日日日日日日日日日日日日日日日日</font></span><span style="color: rgb(255, 0, 0);"  ><font size="4"  >分割线</font><font face="华文彩云 "  ><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日 日日日日日日日日日日日日</span></font></font> <br><font size="3"  ><span style="color: rgb(255, 0, 0);"  ><b>iPhone、iPod Touch越狱破解原理：</b></span></font> <br>首先从一 个用户的留言开始说起 <br><br>原生的<b>IPHONE、IPOD系统</b>是不允许用户对其系统进行操作的，只能对歌曲、视频进行存储，就 好象把用户关在监狱里，不能到出去自由活动；<b>越狱</b>以后，用户就可以对系统进行修改了。 <br><br>据我们所知道的，IPHONE系统 核心是Mac OS X  V10.4.10。而MAC系统的核心又是UNIX和LINUX是孪生兄弟。LINUX对系统权限特别注重，所以同样，在IPHONE的系统上也存在权限 问题。官方固件是不允许对系统文件进行操作，所有文件操作，包括ITUNES同步实际上都是在private\var\mobile\Media这个目录 下完成的，在这个目录，我们只拥有MOBILE这个用户权限。 <br><br>既然IPHONE操作系统核心是MAC，那么肯定就有方法获取ROOT权 限。所以破解就孕育而生。现在破解的原理基本上都是： <br><br>1.由破解工具进入到IPHONE恢复模式或者DFU模式，先由BOOT引导系 统，打开整个磁盘写入权限。 <br><br>2.拥有写入权限之后，便开始往磁盘写入RD.TAR包。这个包的主要作用是第一次引导系统时候往 NOR（主板上一芯片，主要处理系统引导）写入数据，获取ROOT破解程序运行权限。 <br><br>3.RD包写完之后就开始写选择性安装包了。同时 包括CYDIA或者ICY或者其他激活包等等。 <br><br>4.当所有包写入完毕后，破解软件发出指令，IPHONE跳出恢复模式。开始第一次引导 系统。同时运行RD包的内容。 <br><br>5.RD包运行完毕后，IPHONE自动关机。恢复模式完全跳出。正常开始引导系统。破解进程完毕。 <br><br><br><br>补 充：自制固件表面上看似没有运行那个菠图案。实际上在系统第一次开机时候，已经运行了BootNeuter来用于刷新NOR。这也是为什么第一开机速度比 较慢的原因。 <br><br><br><br><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日日日日日日日日日日日日日</span></font><font size="4"  ><span style="color: rgb(255, 0, 0);"  >分割线</span></font><font face="华文彩云 "  ><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日日日日日日日日日日日日日</span></font></font>  <br><span style="color: rgb(255, 0, 0);"  ><b>关于自定义固件有如下说明。</b></span> <br><br>自 定义固件是由pwnagetool(目前支持最新固件系统支持MAC  OS）或者winpwn(WINDOWS下自制固件,版本停止更新在2.01只支持到2.01固件）或者XPWN（WINDOWS下自制固件工具，由技术 组大头修改支持到2.2.1）制作出来的。 <br><br>主要步骤如下： <br><br>首先由工具对IPSW进行初解包，(IPSW实际是ZIP 压缩文件） <br>解压出DMG文件。 <br>然后由工具载入Plist文件记录对DMG进行KEY  IN解密。解密完成之后将需要安装的文件放到固件磁盘里面再生成DMG文件再进行打包即完成。 <br><br>但由于工具对DMG原镜像修改了，会导致 固件校验（官方固件校验）不能通过，这个时候就需要ITUNES提前被工具破解一次（就是PWN一次），才能自由恢复自定义固件。但是 ITUNES8.2&nbsp;&nbsp;8.1&nbsp;&nbsp;8.0均无法在WINDOWS下被PWN（DEV主要是在MAC系统上开发破解软件）。但是ITUNES7.7可以被 WINPWN破解。所以这就是为什么很多人在7.7下刷新自定义固件可以成功。（详细信息可以去威锋搜索相关帖子） <br><br>恢复方 法：ITUNES未被PWN过的话，就必须先要求你的机器已经破解过（使用QUICKPWN或者REDSNOW破解过）。 <br><br>操作步骤：连 接ITUNES，在正常模式下点你的IPOD，然后在右边的选项卡按住键盘上的SHIFT键点恢复按钮即可。并不需要进DFU模式或者恢复模式。 <br><br>补 充材料：DFU模式全称是固件强制降级模式，恢复模式是故障软件恢复模式。DFU下可以强制降级，这就是为什么很多帖子提到DFU。但是DFU模式刷固件 成功率取决于自己的操作系统因素。所以恢复失败就请换电脑即可。 <br><br><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日日日日日日日日日日日日日</span></font><font size="4"  ><span style="color: rgb(255, 0, 0);"  >分割线</span></font><font face="华文彩云 "  ><font size="1"  ><span style="color: rgb(72, 209, 204);"  >日日日日 日日日日日日日日日日日日</span></font></font> <br><font size="2"  ><span style="color: rgb(255, 0, 0);"  ><b>关于越狱等几个名次的解释：</b></span></font> <br><font size="3"  ><span style="color: rgb(0, 0, 0);"  ><b>越狱、破解</b>：这2个词是一个意思。主要是打开系统Root最高权限，以取得 对系统目录的访问和修改。并同时支持运行破解软件。又被称作jailbroken、PWN。</span></font> <br><br><font size="3"  ><b>破解软件、应用程序</b>：在iPhone下Applications 目录（主要存放系统最高权限的应用程序）以及var\mobile\Applications（ITUNES同步安装的IPA软件在这个目录）这2个目录 拥有运行程序和存放程序的权限。其中var\mobile\Applications这个目录只拥有较低的Mobile权限，不能对系统目录进行改写。这 也是为什么很多破解软件不出IPA格式的原因，他们大多都在Applications以获取最高权限。</font> <br><font size="3"  >正规的应用程序（IPA格式，官方软件店发布）在被ITUNES同步到IPHONE的时候会调用系统进程INSTALLD对应用程序进 行证书校验（GPLv3授权）而这个证书本身是由官方捆绑在应用程序内部。如果发现没有购买，或者证书失效，IPHONE就会拒绝安装。ITUNES就自 动同步失败。所以，一般要安装IPA格式的破解软件，需要替换系统内部的INSTALLD文件（3.0固件,2.2.1是 mobileinstalltion)为已经破解了的版本，替换之后，IPHONE在安装时候，就不会对程序证书进行校验，所以破解软件可以完美安装。</font>  <br><font size="3"  >破解软件和一般的正规软件不同的就是，破解软件内部证书是错误或者没有。</font> <br><br><font size="3"  ><b>解锁：</b>我们都知道IPHONE和IPOD在第一次开机或者恢复固 件之后都要求连接到ITUNES激活，然后才能进入到桌面正常操作。激活过程就是所谓的解锁过程。</font> <br><font size="3"  ><b>iPod  Touch解锁</b>：iPod Touch直接连接对应版本ITUNES即可解锁。</font> <br><font size="3"  ><b>iPhone 解锁</b>：iPhone解锁就相对麻烦，ITUNES会先联系APPLE，根据IPHONE序列号等等各项数据确定你的机器是否有网络锁，然后返回给 ITUNES，ITUNES再对IPHONE作相应处理，一旦满足激活条件就可以激活。</font> <br><font size="3"  >IPHONE 系统锁定、解锁主要是靠系统内部进程LOCKDOWN这个程序进行控制。当然，我们也可以破解这个程序达到自动激活的目的。这就是为什么破解工具一般带激 活功能，实则就是在上文提到的上传文件阶段替换该文件。</font></span>
</body></html>