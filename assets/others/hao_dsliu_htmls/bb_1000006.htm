<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：Vim键盘映射</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>Vim键盘映射</h2>
<p align="right">发布时间：2016-7-5 16:30
<br>分类名称：Linux</p><br>
<p>最简单的形式是将一个键输入序列映射到一个键上。由于那些除了 &lt;F1&gt; 外的功能键<br>都没有预先定义的功能，选择它们作为映射对象是很有效的。例如: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;F2&gt; GoDate: &lt;Esc&gt;:read !date&lt;CR&gt;kJ<br><br>这显示了如何使用三种不同的运行模式。在用 "G" 移动到最后一行后，"o" 命令开始一<br>个新行并开始插入模式。然后文本 "Date: " 被输入并用 &lt;Esc&gt; 离开插入模式。<br>   注意在 &lt;&gt; 内使用的特殊键。这叫尖括号记法。你要分别地输入这些字符，而不是键<br>入要表示的键本身。这使得映射更具可读性，而且你也可以方便地拷贝，粘贴文本。<br>   ":" 使得 Vim 回到命令行。":read !date" 命令读取 "date" 命令的输出并添加到当<br>前行之下。&lt;CR&gt; 是用来执行该命令的。<br>   到此为止，文本看起来像:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;Date:  ~<br>&nbsp;&nbsp;&nbsp;&nbsp;Fri Jun 15 12:54:34 CEST 2001 ~<br><br>然后 "kJ" 将光标上移并将两行连接起来。<br><br><br>映 射 与 运 行 模 式<br><br>":map" 命令定义普通模式的键映射。你也可以为其它运行模式定义映射。例如，":imap"<br>用来定义插入模式的映射。你可以用它来定义一个插入日期的映射: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:imap &lt;F2&gt; &lt;CR&gt;Date: &lt;Esc&gt;:read !date&lt;CR&gt;kJ<br><br>看起来很象前面为普通模式定义的 &lt;F2&gt; 映射。只是开始的地方有所不同。普通模式下的<br>&lt;F2&gt; 映射依然有效。这样你就可以在各种模式下为同一映射键定义不同的映射。<br>   应该注意的是，虽然这个映射以插入模式开始，但它却以普通模式结束。如果你希望<br>继续插入模式，可以在最后加上 "a"。<br><br>下面是一个映射命令及其生效模式的总览:<br><br><strong>&nbsp;&nbsp;&nbsp;&nbsp;:map&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;普通，可视模式及操作符等待模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:vmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可视模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:nmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;普通模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:omap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;操作符等待模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:map!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;插入和命令行模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:imap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;插入模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:cmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;命令行模式</strong><br><br>操作符等待模式是当你键入一个操作符 (比如 "d" 或 "y") 之后，Vim 期待你键入一个<br>动作命令或者文本对象时的状态。比如，当你键入命令 "dw"， 那个 "w" 就是在操作符<br>等待模式下键入的。<br><br>假定你想定义映射 &lt;F7&gt; 使得命令 d&lt;F7&gt; 删除一个 C 程序块 ({} 包括的文本)。类似的<br>y&lt;F7&gt; 会将程序块拷贝到匿名的寄存器。因此，你所要做的就是定义 &lt;F7&gt; 来选择当前的<br>语法块。你可以用下面的命令做到: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:omap &lt;F7&gt; a{<br><br>这使得 &lt;F7&gt; 在操作符等待模式下选择一个块，就像是你键入了 "a{" 一样。这个映射在<br>你不容易键入 { 时比较有用。<br><br><br>映 射 列 表<br><br>要查看当前定义的映射，使用不带参数的 ":map" 命令。或者其它运行模式的变体。输出<br>应该类似于:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;   _g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :call MyGrep(1)&lt;CR&gt; ~<br>&nbsp;&nbsp;&nbsp;&nbsp;v  &lt;F2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :s/^/&gt; /&lt;CR&gt;:noh&lt;CR&gt;`` ~<br>&nbsp;&nbsp;&nbsp;&nbsp;n  &lt;F2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :.,$s/^/&gt; /&lt;CR&gt;:noh&lt;CR&gt;`` ~<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;xHome&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Home&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;xEnd&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;End&gt;<br><br><br>第一列显示该映射有效的运行模式。"n" 表示普通模式，"i" 表示插入模式，等等。空白<br>表示用 ":map" 命令定义的映射，也就是对普通和可视模式有效。<br>   列出映射的一个比较实用的目的是检查 &lt;&gt; 表示的特殊键是否被识别了 (仅当支持多<br>色彩是有效)。例如，当 &lt;Esc&gt; 被用彩色显示时，它表示转义字符。否则，只是 5 个不<br>同的字符。<br><br><br>重 映 射<br><br>映射的结果会检查其中包括的其他映射。例如，上面对 &lt;F2&gt; 的映射可以减短为: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;F2&gt; G&lt;F3&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:imap &lt;F2&gt; &lt;Esc&gt;&lt;F3&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;F3&gt;  oDate: &lt;Esc&gt;:read !date&lt;CR&gt;kJ<br><br>在普通模式下 &lt;F2&gt; 被映射为: 行进至最后一行，然后输入 &lt;F3&gt;；在插入模式下先键入<br>&lt;Esc&gt; 后也输入 &lt;F3&gt;。接下来 &lt;F3&gt; 也被映射，执行真正的工作。<br><br>假设你几乎不使用 Ex 模式，并想用 "Q" 命令来排版文本 (就像旧版本的 Vim 那样)。<br>下面的映射就能做到: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map Q gq<br><br>但是，你总有需要用到 Ex 模式的时候。我们来将 "gQ" 映射为 Q，这样你仍然可以进入<br>Ex 模式: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map gQ Q<br><br>这样一来当你键入 "gQ" 时它被映射为 "Q"。到现在为止一切顺利。但由于 "Q" 被映射<br>为 "gq"， 输入的 "gQ" 被解释成为 "gq"， 你根本就没进入 Ex 模式。<br>   要避免键被再次映射，使用 ":noremap" 命令: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:noremap gQ Q<br><br>现在 Vim 就知道了对 "Q" 不需要检查与之相关的映射。对于每个模式都有一个类似的命<br>令:<br><br><strong>&nbsp;&nbsp;&nbsp;&nbsp;:noremap&nbsp;&nbsp;&nbsp;&nbsp;普通，可视和操作符等待模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:vnoremap&nbsp;&nbsp;&nbsp;&nbsp;可视模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:nnoremap&nbsp;&nbsp;&nbsp;&nbsp;普通模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:onoremap&nbsp;&nbsp;&nbsp;&nbsp;操作符等待模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:noremap!&nbsp;&nbsp;&nbsp;&nbsp;插入和命令行模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:inoremap&nbsp;&nbsp;&nbsp;&nbsp;插入模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:cnoremap&nbsp;&nbsp;&nbsp;&nbsp;命令行模式</strong><br><br><br>递 归 映 射<br><br>当一个映射调用它本身的时候，会无限制的运行下去。这可以被用来无限次重复一个操<br>作。<br>   例如，你有一组文件，每个的第一行都包括一个版本号。你用 "vim *.txt" 来编辑它<br>们。你现在正在编辑第一个文件。定义下面的映射: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map ,, :s/5.1/5.2/&lt;CR&gt;:wnext&lt;CR&gt;,,<br><br>现在当你键入 ",," 时，上面的映射被触发。它把第一行的 "5.1" 替换为 "5.2"。接着<br>执行 ":wnext" 来写入文件并开始编辑下一个。映射以 ",," 结束。这又触发了同一个映<br>射，再次执行替换操作，依此类推。<br>   这个映射会一直进行下去，直至遇到错误为止。在这里可能是查找命令无法匹配到<br>"5.1" 。你可以自行插入 "5.1" 然后再次键入 ",,"。或者 ":wnext" 因为遇到最后一个<br>文件而失败。<br>   当映射在中途遇到错误时，映射的剩余部分会被放弃。你可用 CTRL-C 中断映射。(在<br>MS-Windows 上用 CTRL-Break)。<br><br><br>删 除 映 射<br><br>要删除一个映射，使用 ":unmap" 命令。同样，删除映射的命令也和运行模式相关:<br><br><strong>&nbsp;&nbsp;&nbsp;&nbsp;:unmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;普通，可视和操作符等待模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:vunmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可视模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:nunmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;普通模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:ounmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;操作符等待模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:unmap!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;插入和命令行模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:iunmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;插入模式<br>&nbsp;&nbsp;&nbsp;&nbsp;:cunmap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;命令行模式</strong><br><br>这里有个小技巧可以定义一个对普通模式和操作符等待模式有效而对可视模式无效的映<br>射: 先对三个模式都定义映射，然后将可视模式的那个删除: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;C-A&gt; /---&gt;&lt;CR&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:vunmap &lt;C-A&gt;<br><br>注意那 5 个字符 "&lt;C-A&gt;" 表示一个键组合 CTRL-A。<br><br>要清除所有的映射，使用 |:mapclear| 命令。现在你应该可以猜到各种模式下的变体了<br>吧。要当心使用这个命令，它不可能被撤销。<br><br><br>特 殊 字 符<br><br>在 ":map" 命令后面可以追加另一个命令。需要用 | 字符来将两个命令分开。这也就意<br>味着一个映射中不能直接使用该字符。需要时，可以用 &lt;Bar&gt; (五个字符)。例如:<br>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;F8&gt; :write &lt;Bar&gt; !checkin %&lt;CR&gt;<br><br>":unmap" 命令有同样的问题，而且你得留意后缀的空白字符。下面两个命令是不同的:<br>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:unmap a | unmap b<br>&nbsp;&nbsp;&nbsp;&nbsp;:unmap a| unmap b<br><br>第一个命令试图删除映射 "a "，后面带有一个空格。<br><br>当要在一个映射内使用空格时，应该用 &lt;Space&gt; (七个字符): &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;Space&gt; W<br><br>这使得空格键移动到下一个空白字符分割的单词。<br><br>在一个映射后不能直接加注释，因为 " 字符也被当作是映射的一部分。你可以用 |" 绕<br>过这一限制。这实际上是开始一个新的空命令。例如: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;Space&gt; W|     " Use spacebar to move forward a word<br><br><br>映 射 与 缩 写<br><br>缩写和插入模式的映射很象。对参数的处理它们是一样的。它们主要的不同在于触发的方<br>式。缩写是由单词之后的非单词字符触发的。而映射由其最后一个字符触发。<br>   另一个区别是你键入的缩写的字符会在你键入的同时被插入到文本内。当缩写被触发<br>时，这些字符会被删除并替换成缩写所对应的字符。当你键入一个映射时，直到你完成所<br>有的映射键而映射被触发时，映射所对应的内容才会被插入。如果你置位 'showcmd' 选<br>项，键入的字符会显示在 Vim 窗口的最后一行。<br>   有一个例外是当映射有歧义的时候。假定你有两个映射: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:imap aa foo<br>&nbsp;&nbsp;&nbsp;&nbsp;:imap aaa bar<br><br>现在，当你键入 "aa" 时，Vim 不知道是否要使用第一个映射。它会等待另一个键输入。<br>如果是 "a"，第二个映射被执行，结果是 "bar"。如果是其它字符，例如空格，第一个映<br>射被执行，结果是 "foo"， 而且空格字符也会被插入。<br><br><br>另 外 ...<br><br>&lt;script&gt; 关键字可以被用来使一个映射仅对当前脚本有效。参见 |:map-&lt;script&gt;|。<br><br>&lt;buffer&gt; 关键字可以被用来使一个映射仅对当前缓冲区有效。参见 |:map-&lt;buffer&gt;|。<br><br>&lt;unique&gt; 关键字可以被用来当一个映射已经存在时不允许重新定义。否则的话新的映射<br>会简单的覆盖旧的。参见 |:map-&lt;unique&gt;|。<br><br>如果要使一个键无效，将之映射至 &lt;Nop&gt; (五个字符)。下面的映射会使 &lt;F7&gt; 什么也干<br>不了: &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;F7&gt; &lt;Nop&gt;| map! &lt;F7&gt; &lt;Nop&gt;<br><br>注意 &lt;Nop&gt; 之后一定不能有空格。<br>===============================================<br>标识符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;含义&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;等价于&nbsp;&nbsp;&nbsp;&nbsp;十进制数值&nbsp;&nbsp;&nbsp;&nbsp;~<br>-----------------------------------------------------------------------<br>&lt;Nul&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;零&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-@&nbsp;&nbsp;&nbsp;&nbsp;  0 (存储为 10) *&lt;Nul&gt;*<br>&lt;BS&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;退格键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-H&nbsp;&nbsp;&nbsp;&nbsp;  8&nbsp;&nbsp;&nbsp;&nbsp;*backspace*<br>&lt;Tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;制表符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-I&nbsp;&nbsp;&nbsp;&nbsp;  9&nbsp;&nbsp;&nbsp;&nbsp;*tab* *Tab*<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*linefeed*<br>&lt;NL&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;换行符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-J&nbsp;&nbsp;&nbsp;&nbsp; 10 (用作 &lt;Nul&gt;)<br>&lt;FF&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;换页符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-L&nbsp;&nbsp;&nbsp;&nbsp; 12&nbsp;&nbsp;&nbsp;&nbsp;*formfeed*<br>&lt;CR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;回车符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-M&nbsp;&nbsp;&nbsp;&nbsp; 13&nbsp;&nbsp;&nbsp;&nbsp;*carriage-return*<br>&lt;Return&gt;&nbsp;&nbsp;&nbsp;&nbsp;同 &lt;CR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&lt;Return&gt;*<br>&lt;Enter&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同 &lt;CR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&lt;Enter&gt;*<br>&lt;Esc&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;转义&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-[&nbsp;&nbsp;&nbsp;&nbsp; 27&nbsp;&nbsp;&nbsp;&nbsp;*escape* *&lt;Esc&gt;*<br>&lt;Space&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;空格&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 32&nbsp;&nbsp;&nbsp;&nbsp;*space*<br>&lt;lt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;小于号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&nbsp;&nbsp;&nbsp;&nbsp; 60&nbsp;&nbsp;&nbsp;&nbsp;*&lt;lt&gt;*<br>&lt;Bslash&gt;&nbsp;&nbsp;&nbsp;&nbsp;反斜杠&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp; 92&nbsp;&nbsp;&nbsp;&nbsp;*backslash* *&lt;Bslash&gt;*<br>&lt;Bar&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;竖杠&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;124&nbsp;&nbsp;&nbsp;&nbsp;*&lt;Bar&gt;*<br>&lt;Del&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;删除&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;127<br>&lt;CSI&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;命令序列引入&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALT-Esc&nbsp;&nbsp;&nbsp;&nbsp;155&nbsp;&nbsp;&nbsp;&nbsp;*&lt;CSI&gt;*<br>&lt;xCSI&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;图形界面的 CSI &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&lt;xCSI&gt;*<br><br>&lt;EOL&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;行尾 (可以是 &lt;CR&gt;、&lt;LF&gt; 或 &lt;CR&gt;&lt;LF&gt;，<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据不同的系统和 'fileformat' 而定)&nbsp;&nbsp;&nbsp;&nbsp;*&lt;EOL&gt;*<br><br>&lt;Up&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;光标上移键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*cursor-up* *cursor_up*<br>&lt;Down&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;光标下移键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*cursor-down* *cursor_down*<br>&lt;Left&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;光标左移键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*cursor-left* *cursor_left*<br>&lt;Right&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;光标右移键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*cursor-right* *cursor_right*<br>&lt;S-Up&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shift＋光标上移键<br>&lt;S-Down&gt;&nbsp;&nbsp;&nbsp;&nbsp;Shift＋光标下移键<br>&lt;S-Left&gt;&nbsp;&nbsp;&nbsp;&nbsp;Shift＋光标左移键<br>&lt;S-Right&gt;&nbsp;&nbsp;&nbsp;&nbsp;Shift＋光标右移键<br>&lt;C-Left&gt;&nbsp;&nbsp;&nbsp;&nbsp;Control＋光标左移键<br>&lt;C-Right&gt;&nbsp;&nbsp;&nbsp;&nbsp;Control＋光标右移键<br>&lt;F1&gt; - &lt;F12&gt;&nbsp;&nbsp;&nbsp;&nbsp;功能键 1 到 12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*function_key* *function-key*<br>&lt;S-F1&gt; - &lt;S-F12&gt; Shift＋功能键 1 到 12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&lt;S-F1&gt;*<br>&lt;Help&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;帮助键<br>&lt;Undo&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;撤销键<br>&lt;Insert&gt;&nbsp;&nbsp;&nbsp;&nbsp;Insert 键<br>&lt;Home&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*home*<br>&lt;End&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*end*<br>&lt;PageUp&gt;&nbsp;&nbsp;&nbsp;&nbsp;Page-up&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*page_up* *page-up*<br>&lt;PageDown&gt;&nbsp;&nbsp;&nbsp;&nbsp;Page-down&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*page_down* *page-down*<br>&lt;kHome&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 Home (左上)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-home*<br>&lt;kEnd&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 End (左下)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-end*<br>&lt;kPageUp&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 Page-up (右上)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-page-up*<br>&lt;kPageDown&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 Page-down (右下)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-page-down*<br>&lt;kPlus&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 +&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-plus*<br>&lt;kMinus&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-minus*<br>&lt;kMultiply&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-multiply*<br>&lt;kDivide&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 /&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-divide*<br>&lt;kEnter&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 enter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-enter*<br>&lt;kPoint&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 小数点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-point*<br>&lt;k0&gt; - &lt;k9&gt;&nbsp;&nbsp;&nbsp;&nbsp;小键盘 0 到 9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*keypad-0* *keypad-9*<br>&lt;S-...&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shift＋键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*shift* *&lt;S-*<br>&lt;C-...&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control＋键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*control* *ctrl* *&lt;C-*<br>&lt;M-...&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alt＋键 或 meta＋键&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*meta* *alt* *&lt;M-*<br>&lt;A-...&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同 &lt;m-...&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&lt;A-*<br>&lt;D-...&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Command＋键 (只用于苹果机)&nbsp;&nbsp;&nbsp;&nbsp;*&lt;D-*<br>&lt;t_xx&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;termcap 里的 "xx" 入口键<br>-----------------------------------------------------------------------<br><br>备注: Shift＋方向键，帮助键和撤销键只在少数终端里有效。在 Amiga 机器上，Shift<br>＋功能键 10 生成命令序列引入码 (CSI)，也用于键序列。只有再按一个键，该代码才能<br>被识别出来。<br><br>备注: Delete 键有两个键码。一般是十进制的 ASCII 码 127，这个总能认出来。但有些<br>delete 键会发送 termcap 入口项 "kD" 的值。这两个值有同样的效果。<br>参见 |:fixdel|。<br><br>备注: 小键盘上的按键与其对应的 "正常" 按键一样。例如，&lt;kHome&gt; 与 &lt;Home&gt; 有同样<br>的效果。如果小键盘上的键发送的原始键码与 "正常" 键相同，那么将被认为是按下了<br>"正常" 键。例如，如果 &lt;kHome&gt; 发送的键码与 &lt;Home&gt; 相同，当按下 &lt;khome&gt; 的时<br>候，Vim 会认为你按下了 &lt;Home&gt;。&lt;kHome&gt; 的映射此时不会有效。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&lt;&gt;*<br>例子中经常使用 &lt;&gt; 记法。有时这只是用来说明你需要输入什么，但经常它需要照本义键<br>入，例如在 ":map" 命令里。规则是:<br> 1.  任何可显示的字符都可以直接键入，反斜杠和 '&lt;' 除外。<br> 2.  反斜杠用两个反斜杠表示 "\\"，或者用 "&lt;Bslash&gt;"。<br> 3.  真正的 '&lt;' 用 "\&lt;" 或 "&lt;lt&gt;" 表示。只有在没有歧义的时候才可以直接用 '&lt;'<br>     表示。<br> 4.  "&lt;key&gt;" 的意思是特殊键。其含义上面的表格都有介绍，下面是一些例子:<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;Esc&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Escape 键<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;C-G&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-G<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;Up&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;光标上移键<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;C-LeftMouse&gt;&nbsp;&nbsp;&nbsp;&nbsp;Control＋鼠标左键点击<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;S-F11&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shift＋功能键 11<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;M-a&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Meta- a (第 8 位置位的 'a')<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;M-A&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Meta- A (第 8 位置位的 'A')<br>&nbsp;&nbsp;&nbsp;&nbsp;   &lt;t_kd&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;termcap 的 "kd" 入口 (光标下移键)<br><br>如果你想在 Vim 里使用 &lt;&gt; 的完整记法，必须确定 'cpoptions' 里不包括 '&lt;' 标志位<br>(如果没有置位 'compatible'，默认值就是这样)。 &gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:set cpo-=&lt;<br>这里，&lt;&gt; 记法使用 &lt;lt&gt; 来抵消键名的特殊含义。使用反斜杠也可以，但是需要去掉<br>'cpoptions' 里的 'b' 标志位。<br><br>下面的例子是把 CTRL-H 映射成六个字符 "&lt;Home&gt;":<br>&nbsp;&nbsp;&nbsp;&nbsp;:imap &lt;C-H&gt; \&lt;Home&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:imap &lt;C-H&gt; &lt;lt&gt;Home&gt;<br>第一种方法只有在 'cpoptions' 里没有 'B' 标志位才好用。第二种总成立。<br>要在映射中得到按本义出现的 "&lt;lt&gt;" 这几个字符: &gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;c-l&gt; &lt;lt&gt;lt&gt;<br><br>对于映射，缩写和菜单命令你可以用复制-粘贴直接使用手册里的例子。你也可以手动键<br>入它们，包括 '&lt;' 和 '&gt;'。但是在其它命令里，比如 ":set" 和 "autocmd"，这是_不_<br>行的！<br></p>
</body></html>