<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>163 blogs的博客：二.分段管理机制</title>
<style type="text/css">
a{color: #000000;text-decoration : none;font-size: 10pt;}
a:hover {color: red;text-decoration : underline;}
.replyBox{padding:4px;border:1px solid #D8D8D8;}
</style></head><body><h2>二.分段管理机制</h2>
<p align="right">发布时间：2012-5-20 16:48
<br>分类名称：80x86保护模式</p><br>
<p> &nbsp;</p><p><span style="color:black;"  ><span style="font-family:宋体;"  >本文介绍保护方式下的段定义以及由段选择子及段内偏移构成的二维虚拟地址如何被转换为</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >一维线性地址。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:24pt;"  ><strong>&lt;一&gt;段定义和虚拟地址到线性地址的转换 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段是实现虚拟地址到线性地址转换机制的基础。在保护方式下，每个段由如下三个参数进行</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >定义：段基地址</span><span style="font-family:Times New Roman;"  >(Base Address)</span><span style="font-family:宋体;"  >、段界限</span><span style="font-family:Times New Roman;"  >(Limit)</span><span style="font-family:宋体;"  >和段属性</span><span style="font-family:Times New Roman;"  >(Attributes)</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段基地址规定线性地址空间中段的开始地址。在</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >保护方式下，段基地址长</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位。因为</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >基地址长度与寻址地址的长度相同，所以任何一个段都可以从</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位线性地址空间中的任何一</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >个字节开始，而不象实方式下规定的边界必须被</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >整除。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段界限规定段的大小。在</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >保护模式下，段界限用</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位表示，而且段界限可以是以字节</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >为单位或以</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节为单位。段属性中有一位对此进行定义，把该位成为粒度位，用符号</span><span style="font-family:Times New Roman;"  >G</span><span style="font-family:宋体;"  >标</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >记。</span><span style="font-family:Times New Roman;"  >G=0</span><span style="font-family:宋体;"  >表示段界限以字节位位单位，于是</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位的界限可表示的范围是</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >字节至</span><span style="font-family:Times New Roman;"  >1M</span><span style="font-family:宋体;"  >字节，增量</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >字节；</span><span style="font-family:Times New Roman;"  >G=1</span><span style="font-family:宋体;"  >表示段界限以</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节为单位，于是</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位的界限可表示的范围是</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节至</span><span style="font-family:Times New Roman;"  >4G</span><span style="font-family:宋体;"  >字节</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >，增量为</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节。当段界限以</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节为单位时，实际的段界限</span><span style="font-family:Times New Roman;"  >LIMIT</span><span style="font-family:宋体;"  >可通过下面的公式从</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位段界限</span><span style="font-family:Times New Roman;"  >Limit</span><span style="font-family:宋体;"  >计算出来：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >LIMIT=limit*4K+0FFFH=(Limit SHL 12)+0FFFH </span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >所以当粒度为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >时，段的界限实际上就扩展成</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位。由此可见，在</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >保护模式下，段的长</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >度可大大超过</span><span style="font-family:Times New Roman;"  >64K</span><span style="font-family:宋体;"  >字节。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >基地址和界限定义了段所映射的线性地址的范围。基地址</span><span style="font-family:Times New Roman;"  >Base</span><span style="font-family:宋体;"  >是线性地址对应于段内偏移为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的虚拟地址，段内偏移为</span><span style="font-family:Times New Roman;"  >X</span><span style="font-family:宋体;"  >的虚拟地址对应</span><span style="font-family:Times New Roman;"  >Base+X</span><span style="font-family:宋体;"  >的线性地址。段内从偏移</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >到</span><span style="font-family:Times New Roman;"  >Limit</span><span style="font-family:宋体;"  >范围内</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的虚拟地址对应于从</span><span style="font-family:Times New Roman;"  >Base</span><span style="font-family:宋体;"  >到</span><span style="font-family:Times New Roman;"  >Base+Limit</span><span style="font-family:宋体;"  >范围内的线性地址。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >下图表示一个段如何从虚拟地址空间定位到线性地址空间。图中</span><span style="font-family:Times New Roman;"  >BaseA</span><span style="font-family:宋体;"  >等代表段基地址，</span><span style="font-family:Times New Roman;"  >LimitA</span><span style="font-family:宋体;"  >等代表段界限。另外，段</span><span style="font-family:Times New Roman;"  >C</span><span style="font-family:宋体;"  >接在段</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >之后，也即</span><span style="font-family:Times New Roman;"  >BaseC=BaseA+LimitA</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p style="text-align: center;"  ><img title="二.分段管理机制 - Howie - Dspace"  src="pic/img4.ph.126.net_aRQ1qTWkN9806wv8vBLmew==_2620250558217039334.jpg"  alt=""  /><span style="color:black; font-family:Times New Roman;"  >   </span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >例如：设段</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >的基地址等于</span><span style="font-family:Times New Roman;"  >00012345H</span><span style="font-family:宋体;"  >，段界限等于</span><span style="font-family:Times New Roman;"  >5678H</span><span style="font-family:宋体;"  >，并且段界限以字节为单位</span><span style="font-family:Times New Roman;"  >(G=0)</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >那么段</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >对应线性地址空间中从</span><span style="font-family:Times New Roman;"  >00012345H-000179BDH</span><span style="font-family:宋体;"  >的区域。如果段界限以</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节为单位</span><span style="font-family:Times New Roman;"  >(G=1)</span><span style="font-family:宋体;"  >，那么段</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >对应线性地址空间中从</span><span style="font-family:Times New Roman;"  >00012345H-0568B344H(=00012345H+5678000H+0FFFH)</span><span style="font-family:宋体;"  >的区域。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >通过增加段界限，可以使段的容量得到扩展。这对于那些要在内存中扩展容量的普通数据段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >很有效，但对堆栈段情况就不是这样。因为堆栈底在高地址端，随着压栈操作的进行，堆栈</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >向低地址方向扩展。为了适应普通数据段和堆栈数据段在两个相反方向上的扩展，数据段的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >段属性中安排了一个扩展方向位，标记为</span><span style="font-family:Times New Roman;"  >ED</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >ED=0</span><span style="font-family:宋体;"  >表示向高端扩展，</span><span style="font-family:Times New Roman;"  >ED=1</span><span style="font-family:宋体;"  >表示向低端扩展。</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >一般只有堆栈数据段才使用向低端扩展的属性</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >堆栈段也可使用向上扩展的段</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，这是因为，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >向下扩展的段是为以下两个目的而设计的：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >第一，堆栈段被定义为独特段，即</span><span style="font-family:Times New Roman;"  >DS</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >SS</span><span style="font-family:宋体;"  >包含不同的选择器。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >第二，一个堆栈段是靠将它复制到一个更大的段来扩充自己</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >而不是靠将现存的页增加到它</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的段上</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >。不打算用这种方法实现堆栈的设计者不需要定义向下扩展的段。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >需要注意的是，只有数据段的段属性中才有扩展方向属性位</span><span style="font-family:Times New Roman;"  >ED</span><span style="font-family:宋体;"  >，也就是说只有数据段</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >堆栈</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >段作为特殊的数据段</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >才有向上扩展和向下扩展之分，其它段都是自然的向上扩展。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >数据段的扩展方向和段界限一起决定了数据段内偏移的有效范围。当段最大为</span><span style="font-family:Times New Roman;"  >1M</span><span style="font-family:宋体;"  >字节时，在</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >向高端扩展的段内，从</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >到</span><span style="font-family:Times New Roman;"  >Limit</span><span style="font-family:宋体;"  >的偏移是合法有效的偏移，而从</span><span style="font-family:Times New Roman;"  >Limit+1</span><span style="font-family:宋体;"  >到</span><span style="font-family:Times New Roman;"  >1M-1</span><span style="font-family:宋体;"  >的偏移是非</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >法无效的偏移；在向低端扩展的段内，情形刚好相反，从</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >到</span><span style="font-family:Times New Roman;"  >Limit</span><span style="font-family:宋体;"  >的偏移是非法无效的偏移</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >，而从</span><span style="font-family:Times New Roman;"  >Limit+1</span><span style="font-family:宋体;"  >到</span><span style="font-family:Times New Roman;"  >1M-1</span><span style="font-family:宋体;"  >的偏移是合法有效的偏移，注意边界值</span><span style="font-family:Times New Roman;"  >Limit</span><span style="font-family:宋体;"  >对应地址的有效性。段最</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >大为</span><span style="font-family:Times New Roman;"  >4G</span><span style="font-family:宋体;"  >时，情形类似。由此可见，如果一个段是向下扩展的，则所有的偏移必须大于限长，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >因为其限长是指下限，其基地址从高地址出开始。反之，若一个段是向上扩展的，则所有偏</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >移必须小于等于限长，因为其限长是指上限，基地址从低地址处开始。通过使用段环绕，可</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >以把向下扩展段定义到任何线性地址且可定义为任何大小。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在每次把虚拟地址转换为线性地址的过程中，要对偏移进行检查。如果偏移不在有效的范围</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >内，那么就引起异常。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段属性规定段的主要特性。例如上面已经提到的段粒度</span><span style="font-family:Times New Roman;"  >G</span><span style="font-family:宋体;"  >就是段属性的一部分。在对段进行</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >各种访问时，将对访问是否合法进行检查，主要依据是段属性。例如：如果向一个只读段进</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >行写入操作，那么不仅不能写入，而且会引起异常。在下面会详细说明各个段熟属性位的定</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >义和作用。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:24pt;"  ><strong>&lt;二&gt;存储段描述符 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >用于表示上述定义段的三个参数的数据结构称为描述符。每个描述符长</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >个字节。在保护方</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >式下，每一个段都有一个相应的描述符来描述。按描述符所描述的对象来划分，描述符可分</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >为如下三类：存储段描述符、系统段描述符、门描述符</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >控制描述符</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >。下面先介绍存储段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >描述符。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>1.存储段描述符的格式 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >存储段是存放可由程序直接进行访问的代码和数据的段。存储段描述符描述存储段，所以存</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >储段描述符也被称为代码和数据段描述符。存储段描述符的格式如下表所示。表中上面一排</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >是对描述符</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >个字节的使用的说明，最低地址字节</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >假设地址为</span><span style="font-family:Times New Roman;"  >m)</span><span style="font-family:宋体;"  >在最右边，其余字节依次向</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >左，直到最高字节</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >地址为</span><span style="font-family:Times New Roman;"  >m+7)</span><span style="font-family:宋体;"  >。下一排是对属性域各位的说明。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p> &nbsp;</p><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #0099cc;"  border="0"  ><colgroup><col style="width:60px;"  /><col style="width:103px;"  /><col style="width:39px;"  /><col style="width:39px;"  /><col style="width:54px;"  /><col style="width:54px;"  /><col style="width:54px;"  /><col style="width:88px;"  /><col style="width:88px;"  /><tbody valign="top"  ><tr><td rowspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:宋体;"  >存储段</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >描述符</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+7</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+6</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+5</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+4</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+3</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+2</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+1</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >m+0</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >Base(31...24)</span></p></td><td colspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >Attributes</span></p></td><td colspan="3"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >Segment Base(23...0)</span></p></td><td colspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >Segment Limite(15...0)</span></p></td></tr></table></div><p> &nbsp;</p><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #cc9933;"  border="0"  ><colgroup><col style="width:20px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><col style="width:35px;"  /><tbody valign="top"  ><tr><td rowspan="3"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #ffcc66 0.75pt; border-left:  solid #ffcc66 0.75pt; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue;"  ><span style="font-family:宋体;"  >存储段</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >描述符</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >属</span><span style="font-family:Times New Roman;"  >         </span><span style="font-family:宋体;"  >性</span></span></p></td><td colspan="8"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #ffcc66 0.75pt; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >Byte m+6</span></p></td><td colspan="8"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #ffcc66 0.75pt; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >Byte m+5</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #ffcc66 0.75pt; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT7</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT6</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT5</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT4</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT3</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT2</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT1</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT0</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT7</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT6</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT5</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT4</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT3</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT2</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT1</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >BIT0</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #ffcc66 0.75pt; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >G</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >0</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >AVL</span></p></td><td colspan="4"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >Limit(19...16)</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >P</span></p></td><td colspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >DPL</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >DT1</span></p></td><td colspan="4"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #996600 0.75pt; border-right:  solid #996600 0.75pt;"  ><p style="text-align: center;"  ><span style="color:blue; font-family:Times New Roman;"  >TYPE</span></p></td></tr></table></div><p> &nbsp;</p><p><span style="color:black;"  ><span style="font-family:宋体;"  >从上表可知，长</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位的段基地址</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >段开始地址</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >被安排在描述符的两个域中，其位</span><span style="font-family:Times New Roman;"  >0—</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >23</span><span style="font-family:宋体;"  >安排在描述符内的第</span><span style="font-family:Times New Roman;"  >2—</span><span style="font-family:宋体;"  >第</span><span style="font-family:Times New Roman;"  >4</span><span style="font-family:宋体;"  >字节中，其位</span><span style="font-family:Times New Roman;"  >24—</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >31</span><span style="font-family:宋体;"  >被安排在描述符内的第</span><span style="font-family:Times New Roman;"  >7</span><span style="font-family:宋体;"  >字节中。长</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位的段界限也被安排在描述符的两个域中，其位</span><span style="font-family:Times New Roman;"  >0—</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >15</span><span style="font-family:宋体;"  >被安排在描述符内的第</span><span style="font-family:Times New Roman;"  >0—</span><span style="font-family:宋体;"  >第</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >字</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >节中，其位</span><span style="font-family:Times New Roman;"  >16—</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >19</span><span style="font-family:宋体;"  >被安排在描述符内的第</span><span style="font-family:Times New Roman;"  >6</span><span style="font-family:宋体;"  >字节的低</span><span style="font-family:Times New Roman;"  >4</span><span style="font-family:宋体;"  >位中。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >使用两个域存放段基地址和段界限的原因与</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >有关。在</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >保护方式下，段基地址只</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >有</span><span style="font-family:Times New Roman;"  >24</span><span style="font-family:宋体;"  >位长，而段界限只有</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位长。</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >存储段描述符尽管也是</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >字节长，但实际只使用低</span><span style="font-family:Times New Roman;"  >6</span><span style="font-family:宋体;"  >字节，高</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >字节必须置为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >存储段描述符这样的安排，可使得</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >的存储段描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符的格式在</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >下继续有效。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >描述符中的段属性也被安排在两个域中。下面对其定义及意义作说明。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(1)P</span><span style="font-family:宋体;"  >位称为存在</span><span style="font-family:Times New Roman;"  >(Present)</span><span style="font-family:宋体;"  >位。</span><span style="font-family:Times New Roman;"  >P=1</span><span style="font-family:宋体;"  >表示描述符对地址转换是有效的，或者说该描述符所描</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >述的段存在，即在内存中；</span><span style="font-family:Times New Roman;"  >P=0</span><span style="font-family:宋体;"  >表示描述符对地址转换无效，即该段不存在。使用该描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符进行内存访问时会引起异常。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(2)DPL</span><span style="font-family:宋体;"  >表示描述符特权级</span><span style="font-family:Times New Roman;"  >(Descriptor Privilege level)</span><span style="font-family:宋体;"  >，共</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >位。它规定了所描述段的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >特权级，用于特权检查，以决定对该段能否访问。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(3)DT</span><span style="font-family:宋体;"  >位说明描述符的类型。对于存储段描述符而言，</span><span style="font-family:Times New Roman;"  >DT=1</span><span style="font-family:宋体;"  >，以区别与系统段描述符和门</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >描述符</span><span style="font-family:Times New Roman;"  >(DT=0)</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(4)TYPE</span><span style="font-family:宋体;"  >说明存储段描述符所描述的存储段的具体属性。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >其中的位</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >指示描述符是否被访问过</span><span style="font-family:Times New Roman;"  >(Accessed)</span><span style="font-family:宋体;"  >，用符号</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >标记。</span><span style="font-family:Times New Roman;"  >A=0</span><span style="font-family:宋体;"  >表示尚未被访问，</span><span style="font-family:Times New Roman;"  >A=1</span><span style="font-family:宋体;"  >表示段已被访问。当把描述符的相应选择子装入到段寄存器时，</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >把该位置为</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >，表明</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >描述符已被访问。操作系统可测试访问位，已确定描述符是否被访问过。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >其中的位</span><span style="font-family:Times New Roman;"  >3</span><span style="font-family:宋体;"  >指示所描述的段是代码段还是数据段，用符号</span><span style="font-family:Times New Roman;"  >E</span><span style="font-family:宋体;"  >标记。</span><span style="font-family:Times New Roman;"  >E=0</span><span style="font-family:宋体;"  >表示段为数据段，相</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >应的描述符也就是数据段</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >包括堆栈段</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >描述符。数据段是不可执行的，但总是可读的。</span><span style="font-family:Times New Roman;"  >E=1</span><span style="font-family:宋体;"  >表示段是可执行段，即代码段，相应的描述符就是代码段描述符。代码段总是不可写</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的，若需要对代码段进行写入操作，则必须使用别名技术，即用一个可写的数据段描述符</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >来描述该代码段，然后对此数据段进行写入。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在数据段描述符中</span><span style="font-family:Times New Roman;"  >(E=0</span><span style="font-family:宋体;"  >的情况</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >TYPE</span><span style="font-family:宋体;"  >中的位</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >指示所描述的数据段是否可写，用</span><span style="font-family:Times New Roman;"  >W</span><span style="font-family:宋体;"  >标记。</span><span style="font-family:Times New Roman;"  >W=0</span><span style="font-family:宋体;"  >表示对应的数据段不可写。反之，</span><span style="font-family:Times New Roman;"  >W=1</span><span style="font-family:宋体;"  >表示数据段是可写的。注意，数据段总是可读</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的。</span><span style="font-family:Times New Roman;"  >TYPE</span><span style="font-family:宋体;"  >中的位</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >ED</span><span style="font-family:宋体;"  >位，指示所描述的数据段的扩展方向。</span><span style="font-family:Times New Roman;"  >ED=0</span><span style="font-family:宋体;"  >表示数据段向高端扩展</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >，也即段内偏移必须小于等于段界限。</span><span style="font-family:Times New Roman;"  >ED=1</span><span style="font-family:宋体;"  >表示数据段向低扩展，段内偏移必须大于段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >界限。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在代码段描述符中</span><span style="font-family:Times New Roman;"  >(E=1</span><span style="font-family:宋体;"  >的情况</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >TYPE</span><span style="font-family:宋体;"  >中的位</span><span style="font-family:Times New Roman;"  >1</span><span style="font-family:宋体;"  >指示所描述的代码段是否可读，用符号</span><span style="font-family:Times New Roman;"  >R</span><span style="font-family:宋体;"  >标</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >记。</span><span style="font-family:Times New Roman;"  >R=0</span><span style="font-family:宋体;"  >表示对应的代码段不可读，只能执行。</span><span style="font-family:Times New Roman;"  >R=1</span><span style="font-family:宋体;"  >表示对应的代码段可读可执行。注意</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >代码段总是不可写的，若需要对代码段进行写入操作，则必须使用别名技术。在代码段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >中，</span><span style="font-family:Times New Roman;"  >TYPE</span><span style="font-family:宋体;"  >中的位</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >指示所描述的代码段是否是一致代码段，用</span><span style="font-family:Times New Roman;"  >C</span><span style="font-family:宋体;"  >标记。</span><span style="font-family:Times New Roman;"  >C=0</span><span style="font-family:宋体;"  >表示对应的代码</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >段不是一致代码段</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >普通代码段</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >C=1</span><span style="font-family:宋体;"  >表示对应的代码段是一致代码段。关于一致代码段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的说明，后面的文章将会详细介绍。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >存储段描述符中的</span><span style="font-family:Times New Roman;"  >TYPE</span><span style="font-family:宋体;"  >字段所说明的属性可归纳为下表：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p> &nbsp;</p><div><table style="border-collapse:collapse;"  border="0"  ><colgroup><col style="width:283px;"  /><col style="width:12px;"  /><col style="width:283px;"  /><tbody valign="top"  ><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  none; border-right:  none;"  ><p> &nbsp;</p><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #0099cc;"  border="0"  ><colgroup><col style="width:51px;"  /><col style="width:51px;"  /><col style="width:179px;"  /><tbody valign="top"  ><tr><td rowspan="9"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >数据段</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >类</span><span style="font-family:Times New Roman;"  >              </span><span style="font-family:宋体;"  >型</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >类型值</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:宋体;"  >说</span><span style="font-family:Times New Roman;"  >              </span><span style="font-family:宋体;"  >明</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >0</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只读</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >1</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只读、已访问</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >2</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >读</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >写</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >3</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >读</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >写、已访问</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >4</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只读、向下扩展</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >5</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只读、向下扩展、已访问</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >6</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >读</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >写、向下扩展</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >7</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >读</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >写、向下扩展、已访问</span></span></p></td></tr></table></div></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  none; border-right:  none;"  >&nbsp;</td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  none; border-right:  none;"  ><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #0099cc;"  border="0"  ><colgroup><col style="width:48px;"  /><col style="width:48px;"  /><col style="width:184px;"  /><tbody valign="top"  ><tr><td rowspan="9"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >代码段</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >类</span><span style="font-family:Times New Roman;"  >              </span><span style="font-family:宋体;"  >型</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >类型值</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:宋体;"  >说</span><span style="font-family:Times New Roman;"  >              </span><span style="font-family:宋体;"  >明</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >8</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只执行</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >9</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只执行、已访问</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >A</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >执行</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >读</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >B</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >执行</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >读、已访问</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >C</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只执行、一致码段</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white; font-family:宋体;"  >只执行、一致码段、已访问</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >E</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >执行</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >读、一致码段</span></span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >F</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p><span style="color:white;"  ><span style="font-family:宋体;"  >执行</span><span style="font-family:Times New Roman;"  >/</span><span style="font-family:宋体;"  >读、一致码段、已访问</span></span></p></td></tr></table></div></td></tr></table></div><p> &nbsp;</p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(5)G</span><span style="font-family:宋体;"  >为就是段界限粒度</span><span style="font-family:Times New Roman;"  >(Granularity)</span><span style="font-family:宋体;"  >位。</span><span style="font-family:Times New Roman;"  >G=0</span><span style="font-family:宋体;"  >表示界限粒度为字节；</span><span style="font-family:Times New Roman;"  >G=1</span><span style="font-family:宋体;"  >表示界限粒度为</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节。注意，界限粒度只对段界限有效，对段基地址无效，段基地址总是以字节为单位。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(6)D</span><span style="font-family:宋体;"  >位是一个很特殊的位，在描述可执行段、向下扩展数据段或由</span><span style="font-family:Times New Roman;"  >SS</span><span style="font-family:宋体;"  >寄存器寻址的段</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >通常</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >是堆栈段</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >的三种描述符中的意义各不相同。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在描述可执行段的描述符中，</span><span style="font-family:Times New Roman;"  >D</span><span style="font-family:宋体;"  >位决定了指令使用的地址及操作数所默认的大小。</span><span style="font-family:Times New Roman;"  >D=1</span><span style="font-family:宋体;"  >表示</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >默认情况下指令使用</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位地址及</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位或</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >位操作数，这样的代码段也称为</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位代码段；</span><span style="font-family:Times New Roman;"  >D=0</span><span style="font-family:宋体;"  >表示默认情况下，使用</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位地址及</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位或</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >位操作数，这样的代码段也称为</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位代码段，它</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >与</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >兼容。可以使用地址大小前缀和操作数大小前缀分别改变默认的地址或操作数的大</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >小。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在向下扩展数据段的描述符中，</span><span style="font-family:Times New Roman;"  >D</span><span style="font-family:宋体;"  >位决定段的上部边界。</span><span style="font-family:Times New Roman;"  >D=1</span><span style="font-family:宋体;"  >表示段的上部界限为</span><span style="font-family:Times New Roman;"  >4G</span><span style="font-family:宋体;"  >；</span><span style="font-family:Times New Roman;"  >D=0</span><span style="font-family:宋体;"  >表</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >示段的上部界限为</span><span style="font-family:Times New Roman;"  >64K</span><span style="font-family:宋体;"  >，这是为了与</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >兼容。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在描述由</span><span style="font-family:Times New Roman;"  >SS</span><span style="font-family:宋体;"  >寄存器寻址的段描述符中，</span><span style="font-family:Times New Roman;"  >D</span><span style="font-family:宋体;"  >位决定隐式的堆栈访问指令</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >如</span><span style="font-family:Times New Roman;"  >PUSH</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >POP</span><span style="font-family:宋体;"  >指令</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >使</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >用何种堆栈指针寄存器。</span><span style="font-family:Times New Roman;"  >D=1</span><span style="font-family:宋体;"  >表示使用</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位堆栈指针寄存器</span><span style="font-family:Times New Roman;"  >ESP</span><span style="font-family:宋体;"  >；</span><span style="font-family:Times New Roman;"  >D=0</span><span style="font-family:宋体;"  >表示使用</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位堆栈指针</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >寄存器</span><span style="font-family:Times New Roman;"  >SP</span><span style="font-family:宋体;"  >，这与</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >兼容。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >(7)AVL</span><span style="font-family:宋体;"  >位是软件可利用位。</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >对该位的使用未左规定，</span><span style="font-family:Times New Roman;"  >Intel</span><span style="font-family:宋体;"  >公司也保证今后开发生</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >产的处理器只要与</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >兼容，就不会对该位的使用做任何定义或规定。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >此外，描述符内第</span><span style="font-family:Times New Roman;"  >6</span><span style="font-family:宋体;"  >字节中的位</span><span style="font-family:Times New Roman;"  >5</span><span style="font-family:宋体;"  >必须置为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >，可以理解成是为以后的处理器保留的。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:18pt;"  ><strong>2.存储段描述符的结构类型表示 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >根据存储段描述符的结构，可定义如下的汇编语言描述符结构类型：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC       STRUC </span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >    LIMITL     DW      0 ;</span><span style="font-family:宋体;"  >段界限低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >    BASEL      DW      0 ;</span><span style="font-family:宋体;"  >基地址低</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >    BASEM      DB      0 ;</span><span style="font-family:宋体;"  >基地址中间</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >    ATTRIB     DB      0 ;</span><span style="font-family:宋体;"  >段属性</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >    LIMITH     DB      0 ;</span><span style="font-family:宋体;"  >段界限的高</span><span style="font-family:Times New Roman;"  >4</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >包括段属性的高</span><span style="font-family:Times New Roman;"  >4</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >) </span></span></p><p><span style="color:black;"  ><span style="font-family:Times New Roman;"  >    BASEH      DB      0 ;</span><span style="font-family:宋体;"  >基地址的高</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >位</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC       ENDS </span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >利用结构类型</span><span style="font-family:Times New Roman;"  >DESC</span><span style="font-family:宋体;"  >能方便地在程序中说明存储段描述符。例如：下面的描述符</span><span style="font-family:Times New Roman;"  >DATAS</span><span style="font-family:宋体;"  >描述一</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >个可读写的有效</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >存在的</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >数据段，基地址是</span><span style="font-family:Times New Roman;"  >100000H</span><span style="font-family:宋体;"  >，以字节为单位的界限是</span><span style="font-family:Times New Roman;"  >0FFFFH</span><span style="font-family:宋体;"  >，描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符特权级</span><span style="font-family:Times New Roman;"  >DPL=3</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >    DATAS DESC &lt;0FFFFH,,10H,0F2H,,&gt; </span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >再如：下述描述符</span><span style="font-family:Times New Roman;"  >CODEA</span><span style="font-family:宋体;"  >描述一个只可执行的有效的</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位代码段，基地址是</span><span style="font-family:Times New Roman;"  >12345678H</span><span style="font-family:宋体;"  >，以</span><span style="font-family:Times New Roman;"  >4K</span><span style="font-family:宋体;"  >字节位单位的段界限值是</span><span style="font-family:Times New Roman;"  >10H(</span><span style="font-family:宋体;"  >以字节位单位的界限是</span><span style="font-family:Times New Roman;"  >10FFFH)</span><span style="font-family:宋体;"  >，描述符特权级</span><span style="font-family:Times New Roman;"  >DPL=0</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >    CODEA DESC &lt;10H,5678H,34H,98H,0C0H,12H&gt; </span></p><p><span style="color:red; font-family:Batang; font-size:24pt;"  ><strong>&lt;三&gt;全局和局部描述符表 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >一个任务会涉及多个段，每个任务需要一个描述符来描述，为了便于组织管理，</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >把</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >描述符组织成线性表。由描述符组成的线性表称为描述符表。在</span><span style="font-family:Times New Roman;"  >80386</span><span style="font-family:宋体;"  >中有三种类型的描</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >述符表：全局描述符表</span><span style="font-family:Times New Roman;"  >GDT(Global Descriptor Table)</span><span style="font-family:宋体;"  >、局部描述符表</span><span style="font-family:Times New Roman;"  >LDT(Local Descriptor Table)</span><span style="font-family:宋体;"  >和中断描述符表</span><span style="font-family:Times New Roman;"  >IDT(Interrupt Descriptor Table)</span><span style="font-family:宋体;"  >。在整个系统中，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >全局描述符表</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >和中断描述符表</span><span style="font-family:Times New Roman;"  >IDT</span><span style="font-family:宋体;"  >只有一张，局部描述符表可以有若干张，每个任务</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >可以有一张。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >例如，下列描述符表有</span><span style="font-family:Times New Roman;"  >6</span><span style="font-family:宋体;"  >个描述符构成：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESCTAB LABEL BYTE </span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC1   DESC  &lt;1234H,5678H,34H,92H,,&gt; </span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC1   DESC  &lt;1234H,5678H,34H,93H,,&gt; </span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC1   DESC  &lt;5678H,1234H,56H,98H,,&gt; </span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC1   DESC  &lt;5678H,1234H,56H,99H,,&gt; </span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC1   DESC  &lt;0FFFFH,,10H,16H,,&gt; </span></p><p><span style="color:black; font-family:Times New Roman;"  >    DESC1   DESC  &lt;0FFFFH,,10H,90H,,&gt; </span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >每个描述符表本身形成一个特殊的数据段。这样的特殊数据段最多可包含有</span><span style="font-family:Times New Roman;"  >8K(8192)</span><span style="font-family:宋体;"  >个描</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >述符</span><span style="font-family:Times New Roman;"  >. </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >关于中断描述符表</span><span style="font-family:Times New Roman;"  >IDT</span><span style="font-family:宋体;"  >在以后的文章中介绍。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >每个任务的局部描述符表</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >含有该任务自己的代码段、数据段和堆栈段的描述符，也包含</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >该任务所使用的一些门描述符，如任务门和调用门描述符等。随着任务的切换，系统当前</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >的局部描述符表</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >也随之切换。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >全局描述符表</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >含有每一个任务都可能或可以访问的段的描述符，通常包含描述操作系统</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >所使用的代码段、数据段和堆栈段的描述符，也包含多种特殊数据段描述符，如各个用于</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >描述任务</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >的特殊数据段等。在任务切换时，并不切换</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >通过</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >可以使各个任务私有的各个段与其它任务相隔离，从而达到受保护的目的。通</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >过</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >可以使各任务都需要使用的段能够被共享。下图给出了任务</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >和任务</span><span style="font-family:Times New Roman;"  >B</span><span style="font-family:宋体;"  >所涉及的有关段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >既隔离受保护，又合用共享的情况。通过任务</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >的局部描述符表</span><span style="font-family:Times New Roman;"  >LDTA</span><span style="font-family:宋体;"  >和任务</span><span style="font-family:Times New Roman;"  >B</span><span style="font-family:宋体;"  >的局部描述符</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >表</span><span style="font-family:Times New Roman;"  >LDTB</span><span style="font-family:宋体;"  >，把任务</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >所私有的代码段</span><span style="font-family:Times New Roman;"  >CodeA</span><span style="font-family:宋体;"  >及数据段</span><span style="font-family:Times New Roman;"  >DataA</span><span style="font-family:宋体;"  >与任务</span><span style="font-family:Times New Roman;"  >B</span><span style="font-family:宋体;"  >所私有的代码段</span><span style="font-family:Times New Roman;"  >CodeB</span><span style="font-family:宋体;"  >和数据</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >段</span><span style="font-family:Times New Roman;"  >DataB</span><span style="font-family:宋体;"  >及</span><span style="font-family:Times New Roman;"  >DataB2</span><span style="font-family:宋体;"  >隔离，但任务</span><span style="font-family:Times New Roman;"  >A</span><span style="font-family:宋体;"  >和任务</span><span style="font-family:Times New Roman;"  >B</span><span style="font-family:宋体;"  >通过全局描述符表</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >共享代码段</span><span style="font-family:Times New Roman;"  >CodeK</span><span style="font-family:宋体;"  >及</span><span style="font-family:Times New Roman;"  >CodeOS</span><span style="font-family:宋体;"  >和</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >数据段</span><span style="font-family:Times New Roman;"  >DataK</span><span style="font-family:宋体;"  >及</span><span style="font-family:Times New Roman;"  >DataOS</span><span style="font-family:宋体;"  >。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p style="text-align: center;"  ><img title="二.分段管理机制 - Howie - Dspace"  src="pic/img3.ph.126.net_TBSWssw-f_hhs0tw2h2sEQ==_2652057230585336183.jpg"  alt=""  /><span style="color:black; font-family:Times New Roman;"  >   </span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >一个任务可使用的整个虚拟地址空间分为相等的两半，一半空间的描述符在全局描述符表</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >中，另一半空间的描述符在局部描述符表中。由于全局和局部描述符表都可以包含多</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >达</span><span style="font-family:Times New Roman;"  >8192</span><span style="font-family:宋体;"  >个描述符，而每个描述符所描述的段的最大值可达</span><span style="font-family:Times New Roman;"  >4G</span><span style="font-family:宋体;"  >字节，因此最大的虚拟地址空</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >间可为：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black; font-family:Times New Roman;"  >4GB*8192*2=64MMB=64TB </span></p><p><span style="color:red; font-family:Batang; font-size:24pt;"  ><strong>&lt;四&gt;段选择子 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在实模式下，逻辑地址空间中存储单元的地址由段值和段内偏移两部分组成。在保护方式</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >下，虚拟地址空间</span><span style="font-family:Times New Roman;"  >(</span><span style="font-family:宋体;"  >相当于逻辑地址空间</span><span style="font-family:Times New Roman;"  >)</span><span style="font-family:宋体;"  >中存储单元的地址由段选择子和段内偏移两部分</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >组成。与实模式相比，段选择子代替了段值。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段选择子长</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >位，其格式如下表所示。从表中可见，段选择子的高</span><span style="font-family:Times New Roman;"  >13</span><span style="font-family:宋体;"  >位是描述符索</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >引</span><span style="font-family:Times New Roman;"  >(Index)</span><span style="font-family:宋体;"  >。所谓描述符索引是指描述符在描述符表中的序号。段选择子的第</span><span style="font-family:Times New Roman;"  >2</span><span style="font-family:宋体;"  >位是引用描</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >述符表指示位，标记为</span><span style="font-family:Times New Roman;"  >TI(Table Indicator)</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >TI=0</span><span style="font-family:宋体;"  >指示从全局描述符表</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >中读取描述符</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >；</span><span style="font-family:Times New Roman;"  >TI=1</span><span style="font-family:宋体;"  >指示从局部描述符表</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >中读取描述符。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p> &nbsp;</p><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #0099cc;"  border="0"  ><colgroup><col style="width:18px;"  /><col style="width:39px;"  /><col style="width:39px;"  /><col style="width:39px;"  /><col style="width:39px;"  /><col style="width:39px;"  /><col style="width:39px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><col style="width:33px;"  /><tbody valign="top"  ><tr><td rowspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:宋体;"  >选择子</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >结</span><span style="font-family:Times New Roman;"  >         </span><span style="font-family:宋体;"  >构</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT15</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT14</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT13</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT12</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT11</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT10</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT9</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT8</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT7</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT6</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT5</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT4</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT3</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT2</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT1</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >BIT0</span></p></td></tr><tr><td colspan="13"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >描述符索引</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >TI</span></p></td><td colspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >RPL</span></p></td></tr></table></div><p> &nbsp;</p><p><span style="color:black;"  ><span style="font-family:宋体;"  >选择子确定描述符，描述符确定段基地址，段基地址与偏移之和就是线性地址。所以，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >虚拟地址空间中的由选择子和偏移两部分构成的二维虚拟地址，就是这样确定了线性地</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >址空间中的一维线性地址。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >选择子的最低两位是请求特权级</span><span style="font-family:Times New Roman;"  >RPL(Requested Privilege Level)</span><span style="font-family:宋体;"  >，用于特权检查。</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >字段的用法如下：</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >每当程序试图访问一个段时，要把当前特权级与所访问段的特权级进行比较，以确定是</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >否允许程序对该段的访问。使用选择子的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >字段，将改变特权级的测试规则。在这种</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >情况下，与所访问段的特权级比较的特权级不是</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >，而是</span><span style="font-family:Times New Roman;"  >CPU</span><span style="font-family:宋体;"  >与</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >中更外层的特权级。</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >存放在</span><span style="font-family:Times New Roman;"  >CS</span><span style="font-family:宋体;"  >寄存器的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >字段内，每当一个代码段选择子装入</span><span style="font-family:Times New Roman;"  >CS</span><span style="font-family:宋体;"  >寄存器中时，处理器自</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >动地把</span><span style="font-family:Times New Roman;"  >CPL</span><span style="font-family:宋体;"  >存放到</span><span style="font-family:Times New Roman;"  >CS</span><span style="font-family:宋体;"  >的</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >字段。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >由于选择子中的描述符索引字段用</span><span style="font-family:Times New Roman;"  >13</span><span style="font-family:宋体;"  >位表示，所以可区分</span><span style="font-family:Times New Roman;"  >8192</span><span style="font-family:宋体;"  >个描述符。这也就是描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符表最多包含</span><span style="font-family:Times New Roman;"  >8192</span><span style="font-family:宋体;"  >个描述符的原因。由于每个描述符长</span><span style="font-family:Times New Roman;"  >8</span><span style="font-family:宋体;"  >字节，根据上表所示选择子的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >格式，屏蔽选择子低</span><span style="font-family:Times New Roman;"  >3</span><span style="font-family:宋体;"  >位后所得的值就是选择子所指定的描述符在描述符表中的偏移，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >这可认为是安排选择子高</span><span style="font-family:Times New Roman;"  >13</span><span style="font-family:宋体;"  >位作为描述符索引的原因。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >有一个特殊的选择子称为空</span><span style="font-family:Times New Roman;"  >(Null)</span><span style="font-family:宋体;"  >选择子，它的</span><span style="font-family:Times New Roman;"  >Index=0</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >TI=0</span><span style="font-family:宋体;"  >，而</span><span style="font-family:Times New Roman;"  >RPL</span><span style="font-family:宋体;"  >字段可以为任意</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >值。空选择子有特定的用途，当用空选择子进行存储访问时会引起异常。空选择子是特</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >别定义的，它不对应于全局描述符表</span><span style="font-family:Times New Roman;"  >GDT</span><span style="font-family:宋体;"  >中的第</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >个描述符，因此处理器中的第</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >个描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符总不被处理器访问，一般把它置成全</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >。但当</span><span style="font-family:Times New Roman;"  >TI=1</span><span style="font-family:宋体;"  >时，</span><span style="font-family:Times New Roman;"  >Index</span><span style="font-family:宋体;"  >为</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >的选择子不是空选择</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >子，它指定了当前任务局部描述符表</span><span style="font-family:Times New Roman;"  >LDT</span><span style="font-family:宋体;"  >中的第</span><span style="font-family:Times New Roman;"  >0</span><span style="font-family:宋体;"  >个描述符。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:red; font-family:Batang; font-size:24pt;"  ><strong>&lt;五&gt;段描述符高速缓冲寄存器 </strong></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >在实模式下，段寄存器含有段值，为访问存储器形成物理地址时，处理器引用相应的某</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >个段寄存器并将其值乘以</span><span style="font-family:Times New Roman;"  >16</span><span style="font-family:宋体;"  >，形成</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位的段基地址。在保护模式下，段寄存器含有段选</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >择子，如上所述，为了访问存储器形成线性地址时，处理器要使用选择子所指定的描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符中的基地址等信息。为了避免在每次存储器访问时，都要访问描述符表而获得对应的</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >段描述符，从</span><span style="font-family:Times New Roman;"  >80286</span><span style="font-family:宋体;"  >开始每个段寄存器都配有一个高速缓冲寄存器，称之为段描述符高</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >速缓冲寄存器或描述符投影寄存器，对程序员而言它是不可见的。每当把一个选择子装</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >入到某个段寄存器时，处理器自动从描述符表中取出相应的描述符，把描述符中的信息</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >保存到对应的高速缓冲寄存器中。此后对该段访问时，处理器都使用对应高速缓冲寄存</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >器中的描述符信息，而不用再从描述符表中取描述符。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >各段描述符高速缓冲寄存器之内容如下表所示。其中，</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段基地址直接取自描述符，</span><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位的段界限取自描述符中</span><span style="font-family:Times New Roman;"  >20</span><span style="font-family:宋体;"  >位的段界限，并根据描述符属性中的粒度位转换成以字节</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >为单位。其它十个特性根据描述符中的属性而定，</span><span style="font-family:Times New Roman;"  >"Y"</span><span style="font-family:宋体;"  >表示</span><span style="font-family:Times New Roman;"  >"</span><span style="font-family:宋体;"  >是</span><span style="font-family:Times New Roman;"  >"</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >"N"</span><span style="font-family:宋体;"  >表示</span><span style="font-family:Times New Roman;"  >"</span><span style="font-family:宋体;"  >否</span><span style="font-family:Times New Roman;"  >"</span><span style="font-family:宋体;"  >，</span><span style="font-family:Times New Roman;"  >"R"</span><span style="font-family:宋体;"  >表示必须可读，</span><span style="font-family:Times New Roman;"  >"W"</span><span style="font-family:宋体;"  >表示必须可写，</span><span style="font-family:Times New Roman;"  >"P"</span><span style="font-family:宋体;"  >表示必须存在，</span><span style="font-family:Times New Roman;"  >"D"</span><span style="font-family:宋体;"  >表示根据描述</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >符中属性而定。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p> &nbsp;</p><div style="text-align: center;"  ><table style="border-collapse:collapse; background: #0099cc;"  border="0"  ><colgroup><col style="width:28px;"  /><col style="width:48px;"  /><col style="width:57px;"  /><col style="width:57px;"  /><col style="width:37px;"  /><col style="width:37px;"  /><col style="width:37px;"  /><col style="width:28px;"  /><col style="width:46px;"  /><col style="width:37px;"  /><col style="width:37px;"  /><col style="width:37px;"  /><col style="width:46px;"  /><col style="width:46px;"  /><tbody valign="top"  ><tr><td rowspan="8"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:宋体;"  >段描</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >述符</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >高速</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >缓冲</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >寄存</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >器的</span><span style="font-family:Times New Roman;"  ><br></span><span style="font-family:宋体;"  >内容</span></span></p></td><td rowspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >段寄存器</span></p></td><td rowspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >段基地址</span></p></td><td rowspan="2"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >段界限</span></p></td><td colspan="10"  vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  solid #00ccff 0.75pt; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >段属性</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >存在性</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >特权级</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >已存取</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >粒度</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >扩展方向</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >可读性</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >可写性</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >可执行</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >堆栈大小</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:宋体;"  >一致特权</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >CS</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段界限</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >P</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >N</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >Y</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >SS</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段界限</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >P</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >R</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >W</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >N</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >DS</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段界限</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >P</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >N</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >ES</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段界限</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >P</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >N</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >FS</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段界限</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >P</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >N</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td></tr><tr><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  solid #00ccff 0.75pt; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >GS</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位基地址</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white;"  ><span style="font-family:Times New Roman;"  >32</span><span style="font-family:宋体;"  >位段界限</span></span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >P</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >D</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >N</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td><td vAlign="middle"  style="padding-top: 1px; padding-left: 1px; padding-bottom: 1px; padding-right: 1px; border-top:  none; border-left:  none; border-bottom:  solid #006699 0.75pt; border-right:  solid #006699 0.75pt;"  ><p style="text-align: center;"  ><span style="color:white; font-family:Times New Roman;"  >-</span></p></td></tr></table></div><p> &nbsp;</p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段描述符高速缓冲寄存器再处理器内，所以可对其进行快速访问。绝大多数情况下，</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >对存储器的访问是在对应选择子装入到段寄存器之后进行的，所以，使用段描述符高</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >速缓冲寄存器可以得到很好的执行性能。</span><span style="font-family:Times New Roman;"  >    </span></span></p><p><span style="color:black;"  ><span style="font-family:宋体;"  >段描述符高速缓冲寄存器之内保存的描述符信息将一直保存到重新把选择子装载到段</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >寄存器时再更新。程序员尽管不可见段描述符高速缓冲寄存器，但必须注意到它的存</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >在和它的上述更新时机。例如，在改变了描述符表中的某个当前段的描述符后，也要</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >更新对应的段描述符高速缓冲寄存器的内容，即使段选择子未作改变，这可通过重新</span><span style="font-family:Times New Roman;"  >    </span><span style="font-family:宋体;"  >装载段寄存器实现。</span></span></p>
</body></html>